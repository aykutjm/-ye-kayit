<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atakum Tenis Kul√ºb√º - √úyelik S√∂zle≈ümesi</title>
    
    <style>
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --dark-green: #2d5a27;
            --light-green: #4a7c59;
            --light-bg: #f8f9ff;
            --border-color: #e1e5e9;
        }
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); 
            min-height: 100vh; 
            padding: 20px; 
            color: #333; 
        }
        
        .container { 
            max-width: 900px; 
            margin: 0 auto; 
            background: white; 
            border-radius: 20px; 
            box-shadow: 0 20px 60px rgba(0,0,0,0.1); 
            overflow: hidden; 
        }
        
        .header { 
            background: linear-gradient(135deg, var(--dark-green) 0%, var(--light-green) 100%); 
            color: white; 
            padding: 30px; 
            text-align: center; 
        }
        
        .header h1 { 
            font-size: 2.5em; 
            margin-bottom: 10px; 
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3); 
        }
        
        .header p { 
            font-size: 1.2em; 
            opacity: 0.9; 
        }
        
        .form-container { 
            padding: 40px; 
        }
        
        .form-section { 
            margin-bottom: 30px; 
            padding: 25px; 
            border-radius: 15px; 
            background: var(--light-bg); 
            border-left: 5px solid var(--primary-color); 
        }
        
        .section-title { 
            font-size: 1.4em; 
            color: var(--dark-green); 
            margin-bottom: 20px; 
            display: flex; 
            align-items: center; 
            gap: 10px; 
        }
        
        .form-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 20px; 
        }
        
        .form-group { 
            display: flex; 
            flex-direction: column; 
        }
        
        label { 
            font-weight: 600; 
            margin-bottom: 8px; 
            font-size: 0.95em; 
        }
        
        input, select, textarea { 
            padding: 12px 15px; 
            border: 2px solid var(--border-color); 
            border-radius: 10px; 
            font-size: 1em; 
            transition: all 0.3s ease; 
            width: 100%; 
        }
        
        input:focus, select:focus, textarea:focus { 
            outline: none; 
            border-color: var(--primary-color); 
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); 
        }
        
        .contract-text { 
            background: white; 
            padding: 25px; 
            border-radius: 10px; 
            border: 2px solid var(--border-color); 
            height: 400px; 
            overflow-y: auto; 
            font-size: 0.85em; 
            line-height: 1.6; 
        }
        
        .signature-section { 
            background: #fff; 
            border: 2px dashed var(--primary-color); 
            border-radius: 15px; 
            padding: 30px; 
            text-align: center; 
        }
        
        .signature-canvas { 
            border: 2px solid var(--border-color); 
            border-radius: 10px; 
            cursor: crosshair; 
            display: block; 
            margin: 20px auto; 
            max-width: 100%; 
        }
        
        .btn { 
            padding: 12px 25px; 
            border: none; 
            border-radius: 25px; 
            font-size: 1em; 
            font-weight: 600; 
            cursor: pointer; 
            transition: all 0.3s ease; 
            text-transform: uppercase; 
            letter-spacing: 0.5px; 
        }
        
        .btn-secondary { 
            background: #f8f9fa; 
            color: #6c757d; 
            border: 2px solid var(--border-color); 
        }
        
        .btn-success { 
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%); 
            color: white; 
            font-size: 1.2em; 
            padding: 15px 40px; 
        }
        
        .btn:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 10px 25px rgba(0,0,0,0.15); 
        }
        
        .checkbox-group { 
            display: flex; 
            align-items: flex-start; 
            gap: 15px; 
            margin-top: 20px; 
        }
        
        .checkbox-group input { 
            width: 20px; 
            height: 20px; 
            margin-top: 3px; 
            flex-shrink: 0;
        }
        
        .warning, .info-box { 
            background: #fff3cd; 
            border-left: 5px solid #ffeaa7; 
            color: #856404; 
            padding: 15px; 
            border-radius: 10px; 
            margin: 15px 0; 
        }
        
        .success-message { 
            background: #d4edda; 
            border: 1px solid #c3e6cb; 
            color: #155724; 
            padding: 20px; 
            border-radius: 15px; 
            text-align: center; 
            margin-top: 20px; 
            display: none; 
        }

        .loading {
            opacity: 0.7;
            pointer-events: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                border-radius: 10px;
            }
            
            .form-container {
                padding: 20px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .signature-canvas {
                width: 100%;
                max-width: 350px;
            }
        }
    </style>
</head>
<body>
    
    <div class="container" id="main-container">
        <div class="header">
            <h1>üéæ Atakum Tenis Kul√ºb√º</h1>
            <p>Online √úyelik S√∂zle≈ümesi</p>
        </div>
        <div class="form-container">
            <form id="membershipForm">
                <div class="form-section">
                    <h3 class="section-title">üë§ √úye / Veli Bilgileri</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="fullName">Ad Soyad *</label>
                            <input type="text" id="fullName" name="Ad_Soyad" required>
                        </div>
                        <div class="form-group">
                            <label for="tcno">T.C. Kimlik No *</label>
                            <input type="text" id="tcno" name="TC_Kimlik_No" pattern="[0-9]{11}" maxlength="11" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Telefon *</label>
                            <input type="tel" id="phone" name="Telefon" required>
                        </div>
                        <div class="form-group">
                            <label for="email">E-posta *</label>
                            <input type="email" id="email" name="Eposta" required>
                        </div>
                    </div>
                    <div class="form-group" style="margin-top: 20px;">
                        <label for="address">Adres *</label>
                        <textarea id="address" name="Adres" rows="3" required></textarea>
                    </div>
                </div>
                 
                <div class="form-section">
                    <h3 class="section-title">üóìÔ∏è √úyelik S√ºresi</h3>
                    <div class="form-group">
                        <label for="membershipDuration">√úyelik S√ºresini Se√ßiniz *</label>
                        <select id="membershipDuration" name="Uyelik_Suresi" required>
                            <option value="">Se√ßiniz...</option>
                            <option value="Aylƒ±k">Aylƒ±k</option>
                            <option value="4 Aylƒ±k">4 Aylƒ±k</option>
                        </select>
                    </div>
                    <div id="monthlyWarning" class="info-box" style="display: none;">
                        <strong>Bilgilendirme:</strong> Aylƒ±k √ºyeliklerde, √ºyeliƒüinizi sonlandƒ±rmak i√ßin her ayƒ±n 14'√ºne kadar kayƒ±t sildirmeniz gerekmektedir. Aksi takdirde √ºyelik otomatik olarak yenilenir.
                    </div>
                    <div id="fourMonthWarning" class="info-box" style="display: none;">
                        <strong>Bilgilendirme:</strong> 4 aylƒ±k √ºyeliklerde, s√ºreden √∂nce iptal edilen √ºyeliklerde s√∂zle≈üme gereƒüi cayma bedeli tahsil edilir.
                    </div>
                </div>
                 
                <div class="form-section">
                    <h3 class="section-title">üë∂ Re≈üit Olmayan √úye</h3>
                    <div class="checkbox-group">
                        <input type="checkbox" id="isMinorCheck" name="Resit_Olmayan_Uye_Mi">
                        <label for="isMinorCheck">18 ya≈üƒ±ndan k√º√ß√ºk bir √ºye i√ßin dolduruyorum.</label>
                    </div>
                    <div id="minorFields" style="display: none; margin-top: 20px;">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="minorFullName">Re≈üit Olmayanƒ±n Adƒ± Soyadƒ± *</label>
                                <input type="text" id="minorFullName" name="Resit_Olmayan_Adi_Soyadi">
                            </div>
                            <div class="form-group">
                                <label for="minorDob">Re≈üit Olmayanƒ±n Doƒüum Tarihi *</label>
                                <input type="date" id="minorDob" name="Resit_Olmayan_Dogum_Tarihi">
                            </div>
                        </div>
                    </div>
                </div>
                 
                <div class="form-section">
                    <h3 class="section-title">üìã √úyelik S√∂zle≈ümesi</h3>
                    <div class="contract-text" id="contractTextArea"></div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="agreeContract" name="Sozlesme_Onayi" value="Kabul Edildi" required>
                        <label for="agreeContract">√úyelik s√∂zle≈ümesini okudum, anladƒ±m ve kabul ediyorum. *</label>
                    </div>
                </div>
                 
                <div class="form-section">
                    <h3 class="section-title">‚úçÔ∏è Dijital ƒ∞mza</h3>
                    <div class="signature-section">
                        <p>L√ºtfen a≈üaƒüƒ±daki alana imzanƒ±zƒ± atƒ±n:</p>
                        <canvas id="signatureCanvas" class="signature-canvas" width="400" height="200"></canvas>
                        <div>
                            <button type="button" class="btn btn-secondary" onclick="clearSignature()">ƒ∞mzayƒ± Temizle</button>
                        </div>
                        <div id="signatureWarning" class="warning" style="display: none; margin-top: 15px;">
                            <strong>Uyarƒ±:</strong> L√ºtfen dijital imzanƒ±zƒ± tamamlayƒ±n.
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button type="submit" class="btn btn-success" id="submitBtn">üìÑ S√∂zle≈ümeyi ƒ∞mzala ve Onayla</button>
                </div>
                
                <div class="success-message" id="successMessage">
                    <h3>‚úÖ Ba≈üarƒ±lƒ±!</h3>
                    <p>√úyelik s√∂zle≈ümeniz ba≈üarƒ±yla tamamlandƒ±. Onay belgesi indiriliyor ve bilgileriniz kul√ºb√ºm√ºze iletiliyor.</p>
                </div>
            </form>
        </div>
    </div>

    <!-- HTML2PDF k√ºt√ºphanesi -->
    <script>
        // HTML2PDF k√ºt√ºphanesini dinamik olarak y√ºkle
        function loadHTML2PDF() {
            return new Promise((resolve, reject) => {
                if (window.html2pdf) {
                    resolve();
                    return;
                }
                
                const script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js';
                script.onload = () => resolve();
                script.onerror = () => {
                    console.warn('HTML2PDF CDN y√ºklenemedi, alternatif yol deneniyor...');
                    // Alternatif CDN
                    const altScript = document.createElement('script');
                    altScript.src = 'https://unpkg.com/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js';
                    altScript.onload = () => resolve();
                    altScript.onerror = () => reject(new Error('HTML2PDF y√ºklenemedi'));
                    document.head.appendChild(altScript);
                };
                document.head.appendChild(script);
            });
        }

        // Sayfa y√ºklendiƒüinde k√ºt√ºphaneyi y√ºkle
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                await loadHTML2PDF();
                console.log('HTML2PDF k√ºt√ºphanesi y√ºklendi');
                initializeApp();
            } catch (error) {
                console.error('HTML2PDF y√ºklenirken hata:', error);
                // PDF olmadan da √ßalƒ±≈üabilsin
                initializeApp();
            }
        });

        function initializeApp() {
            // --- SABƒ∞TLER ---
            const webhookUrl = 'https://n8n.edu-ai.online/webhook-test/10a31aa5-c942-46ec-bc5c-b221c24e5eae';
            
            // --- S√ñZLE≈ûME METNƒ∞ ---
            const contractContent = `<h4>√úYELƒ∞K S√ñZLE≈ûMESƒ∞</h4>
                <p><strong>1-) TARAFLAR</strong><br>
                <strong>A-KUL√úP</strong><br>
                Adƒ±-Soyadƒ± : Aykut YILDIRIM<br>
                √únvanƒ± : Atakum Tenis<br>
                Adres : Derecik Mahallesi 1444. Sokak No:1 ƒ∞lkadƒ±m/Samsun<br>
                Vergi No : 9540639540<br>
                Telefon : 0544 936 75 43<br>
                E-mail : y.aykut7455@gmail.com<br>
                Bu s√∂zle≈ümede bundan sonra "Eƒûƒ∞TMEN/KUL√úP" olarak anƒ±lacaktƒ±r.<br>
                <strong>B-√úYE/VELƒ∞</strong><br>
                Adƒ±-Soyadƒ± : [Bu alan formdan otomatik doldurulacaktƒ±r]<br>
                Adres : [Bu alan formdan otomatik doldurulacaktƒ±r]<br>
                TCKN : [Bu alan formdan otomatik doldurulacaktƒ±r]<br>
                Telefon : [Bu alan formdan otomatik doldurulacaktƒ±r]<br>
                E-mail : [Bu alan formdan otomatik doldurulacaktƒ±r]<br>
                Bu s√∂zle≈ümede bundan sonra "√úYE/VELƒ∞" olarak anƒ±lacaktƒ±r. √úye ve varsa veliye ait bilgiler yukarƒ±da
                yer alan kƒ±sma ayrƒ± ayrƒ± yazƒ±larak doldurulacaktƒ±r.</p>
                <p>√úye/Veli i≈übu s√∂zle≈ümeyi onaylamasƒ± sƒ±rasƒ±nda Eƒüitmen tarafƒ±ndan kendisinden talep edilen her t√ºrl√º
                bilgiyi eksiksiz ve doƒüru olarak Eƒüitmene vermeyi kabul etmektedir. √úye/Veli, eƒüitimler sƒ±rasƒ±nda Eƒüitmene
                bildirdiƒüi bilgilerin doƒüruluƒüundan bizzat sorumludur.</p>
                <p>√úye/Veli, i≈übu s√∂zle≈ümeye onayƒ± esnasƒ±nda beyan etmi≈ü olduƒüu cep telefonu numarasƒ± ve e-posta
                adresinin Eƒüitmen tarafƒ±ndan yapƒ±lacak her t√ºrl√º bildirim i√ßin ge√ßerli tebligat mecralarƒ± sayƒ±lacaƒüƒ±nƒ±, bu cep
                telefonu numarasƒ± ve e-posta adresinin kullanƒ±mƒ± ile ilgili her t√ºrl√º yetkinin kendisinde olduƒüunu, ilgili cep
                telefonu numarasƒ± ve e-posta adresinin 3. ki≈üiler tarafƒ±ndan kullanƒ±ldƒ±ƒüƒ± ≈ü√ºphesinin varlƒ±ƒüƒ± halinde bu durumu
                ve her halde cep telefonu numarasƒ± ve e-posta adresinde meydana gelen deƒüi≈üiklikleri Eƒüitmene bildirmekle
                y√ºk√ºml√º olduƒüunu kabul ve taahh√ºt eder.</p>
                <p><strong>2-) KONU</strong><br>
                ƒ∞≈übu √ºyelik s√∂zle≈ümesi, √ºyelik i≈ülemlerinin ger√ßekle≈ütirilmesi ile i≈übu s√∂zle≈ümenin onaylanmasƒ±
                suretiyle, Eƒüitmen tarafƒ±ndan sunulacak hizmetin ≈üartlarƒ±nƒ± ve taraflarƒ±n kar≈üƒ±lƒ±klƒ± hak ve y√ºk√ºml√ºl√ºklerini
                d√ºzenlemektedir.</p>
                <p><strong>3-) S√úRE</strong><br>
                S√∂zle≈üme s√ºresi aylƒ±k ve 6 aylƒ±k periyotlar halinde d√ºzenlenmekte olup; kayƒ±tlar s√∂zle≈ümenin biteceƒüi
                ayƒ±n 15'inden √∂nce iptal edilmediƒüi takdirde aylƒ±k veya 6 aylƒ±k olarak uzatƒ±lmƒ±≈ü sayƒ±lmaktadƒ±r. Kayƒ±t
                silinmediƒüi takdirde yeni d√∂neme ili≈ükin √ºcret √úye/Veli tarafƒ±ndan kul√ºbe √∂denecektir.</p>
                <p><strong>4-) √úCRET</strong><br>
                √úyelik bedeli, √úyelik satƒ±≈ü formunda belirtilen √ºyelik paketine g√∂re ‚Ä¶. Ay, aylƒ±k‚Ä¶‚Ä¶.. TL olup; i≈übu
                bedel √úye/Veli tarafƒ±ndan √∂denecektir.</p>
                <p><strong>5-) √ñDEMELER</strong><br>
                √ñdemelerin her ayƒ±n 20'sine kadar belirtilen hesaba yapƒ±lmasƒ± gerekmektedir. D√∂nem tarihlerine g√∂re
                eksik ya da fazla √∂deme durumu olu≈üabilir. √ñdemelerin zamanƒ±nda yapƒ±lmamasƒ± durumunda; √úye/Veli,
                yapacaƒüƒ± √∂demenin %25'i tutarƒ±nda cezai ≈üart √∂demeyi kabul ve taahh√ºt eder.</p>
                <p>Yapƒ±lan √∂demeler, derslere katƒ±lƒ±m taahh√ºd√º olarak kabul edilir. √úyenin derslere katƒ±lamamasƒ±
                sebebiyle √ºcret iadesi yapƒ±lmaz.</p>
                <p><strong>6-) √úYELƒ∞K ƒ∞PTALLERƒ∞</strong><br>
                Her ayƒ±n 14'√º kayƒ±t sildirme i√ßin son g√ºnd√ºr. Bu tarihler sonrasƒ±nda yapƒ±lan kayƒ±t sildirmelerde yeni
                d√∂nem √ºcreti tahsil edilir.</p>
                <p>Kul√ºbe veya kul√ºp tesislerine zarar verici davranƒ±≈ülarda bulunulmasƒ± durumunda kul√ºp √ºyeliƒüi
                sonlandƒ±rƒ±labilir.</p>
                <p>1) Daim√Æ Hastalƒ±k<br>
                √úyenin, √ºyelik s√ºresi i√ßerisinde derslere gelmesini veya derslerdeki aktivitelere katƒ±lmasƒ±nƒ±
                engelleyecek daim√Æ bir hastalƒ±ƒüa tutulmasƒ± ve bu durumun tam te≈üekk√ºll√º devlet hastanesinden alƒ±nmƒ±≈ü heyet
                raporu ile belgelenmesi halinde √ºyelik iptal edilir. √úyenin √ºyelik √ºcretinin tamamƒ±nƒ± √∂demi≈ü olmasƒ±
                durumunda, kullanƒ±lmayan s√ºreye ait √∂denen √ºcretten %.10kesinti yapƒ±larak, kalan tutar faizsiz olarak
                √úye/Veliye iade edilir. Kullanƒ±lan hizmet s√ºresinin bedeli iade olunmaz. √úye/Veli, bu madde gereƒüince i≈ülem
                yapƒ±labilmesi i√ßin, hastalƒ±ƒüa ili≈ükin raporunu √ºst yazƒ± ile birlikte Eƒüitmene verecektir. Hastalƒ±ƒüa ili≈ükin
                raporun, rapor tarihinden itibaren en ge√ß 10 g√ºn i√ßerisinde verilmesi gerekmektedir. Ge√ß verilen rapor ve
                dilek√ßeler i≈ülem g√∂rmeyecek, ge√ßersiz kabul edilecektir.</p>
                <p>2) Eƒüitmenin Tek Taraflƒ± Fesih Hakkƒ±<br>
                Eƒüitmen taraflar arasƒ±ndaki i≈übu s√∂zle≈ümeyi her zaman 5 g√ºn √∂nceden bildirimde bulunmak kaydƒ±yla
                herhangi bir gerek√ße g√∂stermeksizin tek taraflƒ± olarak feshedebilir.</p>
                <p>√úye/Veli, i≈übu s√∂zle≈ümeyi imzalayarak bu maddeyi pe≈üinen kabul etmi≈ü sayƒ±lƒ±r. Bu durumda Eƒüitmen
                √úyenin kullanƒ±lmayan s√ºreye ili≈ükin √úyelik √ºcretini √∂demi≈ü olmasƒ± durumunda, √∂demi≈ü olduƒüu √ºcreti faizsiz
                olarak 5 g√ºn i√ßerisinde √úye/Veliye iade edecektir.</p>
                <p>Ayrƒ±ca Eƒüitmen haklƒ± bir nedenin varlƒ±ƒüƒ± halinde s√∂zle≈ümeyi herhangi bir s√ºre olmaksƒ±zƒ±n derhal tek
                taraflƒ± olarak da feshedebilir. Bu durumda, √ºyenin √ºyelik √ºcretinin kullanƒ±lmayan kƒ±smƒ± iade edilmez.</p>
                <p><strong>7-) Eƒûƒ∞Tƒ∞ME ƒ∞Lƒ∞≈ûKƒ∞N KURALLAR</strong><br>
                A) √úyelik ≈ûartlarƒ± ile √úye/Velinin Hak ve Y√ºk√ºml√ºl√ºkleri<br>
                1) Eƒüitmen, her t√ºrl√º √ºyelik talebini hi√ßbir gerek√ße g√∂stermeksizin tek taraflƒ± olarak reddetme hakkƒ±na sahiptir.<br>
                2) Eƒüitmenden, su√ß i≈ülememi≈ü ve herhangi bir y√ºz kƒ±zartƒ±cƒ± su√ßtan sabƒ±ka kaydƒ± bulunmayan T.C. vatanda≈ülarƒ±
                ile yabancƒ± uyruklu ki≈üiler ders alabilir. Eƒüitmenin bu hususa ili≈ükin adli sicil belgesi (sabƒ±ka kaydƒ±) talep etme
                ve deƒüerlendirme hakkƒ± saklƒ±dƒ±r.<br>
                3) Eƒüitmen √úye/Veliden, bula≈üƒ±cƒ± hastalƒ±klar gibi toplumu veya diƒüer √úye/Velilerin saƒülƒ±ƒüƒ±nƒ± tehlikeye
                d√º≈ü√ºrebilecek bir hastalƒ±ƒüƒ±nƒ±n bulunmadƒ±ƒüƒ±na dair saƒülƒ±k raporu ya da tahlil sonucu talep edebilir. S√∂z konusu
                tahliller sonucunda bula≈üƒ±cƒ± hastalƒ±k ve benzeri bir bulguya rastlanmasƒ± halinde Eƒüitmen, √úyeliƒüi yapacaƒüƒ± bir
                fesih bildirimi ile sona erdirme hakkƒ±na haizdir.<br>
                4) √úye/Veli, √ºyelik i√ßin gerekli olan her t√ºrl√º belgeyi eksiksiz ve doƒüru bir ≈üekilde temin edecek; √ºyelik onayƒ±
                i√ßin ve/veya √ºyeliƒüin devamƒ± sƒ±rasƒ±nda Eƒüitmen tarafƒ±ndan talep edilecek her t√ºrl√º bilgi, belge, rapor vb.
                hususlarƒ± derhal temin ederek Eƒüitmene ibraz edecektir.<br>
                5) √úyelerin spor faaliyetine katƒ±lmak i√ßin gerekli saƒülƒ±k ≈üartlarƒ±nƒ± ta≈üƒ±yƒ±p ta≈üƒ±madƒ±klarƒ±, spor aktivitesine uygun
                olup olmadƒ±klarƒ±, tƒ±bbi kontrollerini yaptƒ±rƒ±p yaptƒ±rmadƒ±klarƒ± veya saƒülƒ±k danƒ±≈ümanlarƒ±nƒ±n yaptƒ±ƒüƒ± tƒ±bbi
                tavsiyelerden ya da bunlarƒ±n neticelerinden dolayƒ± Eƒüitmenin herhangi bir sorumluluƒüu bulunmamaktadƒ±r.
                √úye/Veli, √ºyelik s√∂zle≈ümesini imzaladƒ±ƒüƒ± andan itibaren; saƒülƒ±k durumunun spor yapmaya elveri≈üli olduƒüunu,
                spor faaliyetine katƒ±lmasƒ±na engel bir √∂zr√º ve rahatsƒ±zlƒ±ƒüƒ±nƒ±n bulunmadƒ±ƒüƒ±nƒ±, faaliyete katƒ±lmasƒ±nƒ±n saƒülƒ±ƒüƒ±na
                ve fiziksel durumuna bir zarar vermeyeceƒüini beyan ve taahh√ºt etmi≈ütir.<br>
                6) √úyelerin, ders veya aktivitelerden faydalanmamalarƒ± halinde dahi belirlenen bedelleri zamanƒ±nda ve tam
                olarak √∂demeleri zorunludur. √úyelerin yapƒ±lacak aktivitelerden veya verilecek derslerden yararlanmamalarƒ±
                hi√ßbir ≈üekil ve ≈üartta √úye/Veliye √ºyelik bedelini √∂dememe hakkƒ± vermemektedir. √úye derslerden yararlanmasa
                dahi √úyelika bedellerini √∂demek zorundadƒ±r.<br>
                7) √úye/Veli, kendisinin veya misafirlerinin ≈üahsi kusurlarƒ±, dikkatsizliƒüi veya ihmalleri ile; kul√ºbe veya 3.
                Ki≈üilere ait e≈üyalar √ºzerinde meydana getirecekleri t√ºm hasar ve zarardan ve yine diƒüer √úye/Velilerin yahut
                Eƒüitmen √ßalƒ±≈üanlarƒ±nƒ±n ve 3. ki≈üilerin uƒüramƒ±≈ü olduƒüu t√ºm zarar ve kayƒ±plardan sorumludur.</p>
                <p>B) KUL√úP KURALLARI<br>
                a) Grup dersleri aylƒ±k 8 derstir.<br>
                b) Grup derslerinde ders bir kez i≈ülendiƒüinden, √ºyenin katƒ±lamadƒ±ƒüƒ± dersler i√ßin telafi yapƒ±lmaz.<br>
                c) √ñzel ders paketleri 1 aylƒ±k s√ºreyle ge√ßerlidir. Bu s√ºre i√ßinde kullanƒ±lmayan ders haklarƒ± bir sonraki aya
                devredilmez.<br>
                d) Spor bran≈ülarƒ±nda herhangi bir kaza, yaralanma veya saƒülƒ±k problemi durumunda sorumluluk tamamen
                √úye/Veliye aittir.<br>
                e) Kayƒ±t sildirme i≈ülemi yapƒ±ldƒ±ƒüƒ±nda sistem √ºzerinden t√ºm ki≈üisel verileriniz ve kayƒ±t bilgileriniz silinir.<br>
                f) √úyelerin derse zamanƒ±nda, uygun kƒ±yafetle ve hazƒ±r ≈üekilde gelmesi √úye/Velilerin sorumluluƒüundadƒ±r.<br>
                g) Kayƒ±t silme talebinde bulunan √∂ƒürencinin kalan dersleri mevcut d√∂nem tarihleri i√ßerisinde yapƒ±lƒ±r.</p>
                <p>C) GENEL KURALLAR<br>
                1) Kul√ºp b√ºnyesinde √úye/Veliler genel nezaket kurallarƒ±na uymakla y√ºk√ºml√ºd√ºrler. Kort i√ßinde veya dƒ±≈üƒ±nda
                nezaket kurallarƒ±na uymayan davranƒ±≈ülarda bulunan, huzuru ka√ßƒ±ran, hakaret, k√ºf√ºr kullanan √úye/Velilerin
                √úye/Velilikleri herhangi bir uyarƒ±ya gerek kalmadan resen iptal edilebilir. Bu takdirde √úye/Velilik bedelleri
                kƒ±smen dahi geri √∂denmez.<br>
                2) Kayƒ±p e≈üyalardan Kul√ºp sorumlu deƒüildir.<br>
                3) √úye/Veli ruhsatlƒ± bile olsa Kul√ºp'e delici, kesici ve patlayƒ±cƒ± alet veya silahla giremez. Aksi hallerde
                √úye/Veli Kul√ºp'e giremeyecektir.<br>
                4) √úye/Velinin Kapalƒ± alanlarda ve Kul√ºp tarafƒ±ndan yasaklanan alanlarda sigara i√ßmesi kesinlikle yasaktƒ±r.<br>
                5) Kul√ºp i√ßine dƒ±≈üarƒ±dan yiyecek i√ßecek getirmek yasaktƒ±r.<br>
                6) Soyunma odalarƒ±ndaki dolaplar g√ºnl√ºk kullanƒ±m i√ßindir. √úye/Velinin tek dolap kullanƒ±m hakkƒ± vardƒ±r.<br>
                7) √úye/Veliler, t√ºm e≈üyalarƒ±nƒ± dolap i√ßine koymalƒ±, dolap kapaklarƒ±na ve/veya dƒ±≈üƒ±na herhangi bir e≈üya
                asmamalƒ± ve dolaplarƒ±nƒ± kilitlemelidirler. Dolaplar kullanƒ±m sonrasƒ± tamamen bo≈üaltƒ±lmalƒ±dƒ±r.<br>
                8) Dolap i√ßinde cep telefonlarƒ± sessiz konumda bƒ±rakƒ±lmalƒ±dƒ±r.<br>
                9) G√ºnl√ºk dolaplar kullanƒ±m sonrasƒ± bo≈ü ve a√ßƒ±k olarak bƒ±rakƒ±lmalƒ±dƒ±r. Kul√ºp, hijyen ve g√ºvenlik nedenleri ile
                g√ºn sonunda kilitli dolaplarƒ± g√∂revli y√∂netici e≈üliƒüinde a√ßma ve i√ßindeki e≈üyalarƒ± bo≈üaltma hakkƒ±na sahiptir.
                Dolapta bƒ±rakƒ±lan e≈üyanƒ±n kaybolmasƒ±ndan veya hasarƒ±ndan Kul√ºp sorumlu tutulamaz.<br>
                10) Soyunma odalarƒ±nda g√∂r√ºnt√º/ses kaydƒ± yapƒ±lmasƒ± kesinlikle yasaktƒ±r. Aksi davranƒ±≈üta bulunanlarƒ±n tespiti
                halinde, Kul√ºp tarafƒ±ndan her t√ºrl√º hak saklƒ± tutulmak kaydƒ± ile √úye/Velilik feshi h√ºk√ºmleri
                uygulanabilecektir. √úye/Veli, soyunma odalarƒ±nda ger√ßekle≈ütirilen g√∂r√ºnt√º/ses kaydƒ±nƒ±n sonu√ßlarƒ±ndan
                Kul√ºp'√ºn hi√ßbir sorumluluƒüu olmadƒ±ƒüƒ±nƒ± kabul, beyan ve taahh√ºt eder.<br>
                11) Soyunma odalarƒ±nda √∂zel ve deƒüerli e≈üya bƒ±rakƒ±lmamalƒ±dƒ±r. Bƒ±rakƒ±lan e≈üyalarƒ±n kaybolmasƒ±ndan veya
                hasarƒ±ndan Kul√ºp sorumlu tutulamaz.<br>
                12) Kul√ºp, sunduƒüu hizmetler ve √ßalƒ±≈ümalar ile ilgili kurallar ve uygulamalarda, zaman ve ihtiyaca baƒülƒ±
                deƒüi≈üiklikler yapabilir, yeni maddeler ilave edebilir. Olabilecek b√ºt√ºn deƒüi≈üiklikler √úye/Velilere bildirilir.<br>
                13) Tesisin t√ºm alanlarƒ±nda √úye/Velilerin hijyeni, saƒülƒ±ƒüƒ± ve g√ºvenliƒüi d√º≈ü√ºn√ºlerek hazƒ±rlanan prosed√ºr ve
                kullanƒ±m kurallarƒ±na uyulmasƒ± zorunludur.<br>
                14) Kul√ºp sƒ±nƒ±rlarƒ± i√ßerisinde (a√ßƒ±k ve kapalƒ± alan fark etmeksizin) sigara i√ßmek yasaktƒ±r.</p>
                <p><strong>8- Kƒ∞≈ûƒ∞SEL VE √ñZEL Nƒ∞TELƒ∞KLƒ∞ Kƒ∞≈ûƒ∞SEL VERƒ∞LERƒ∞N ƒ∞≈ûLENMESƒ∞</strong><br>
                √úye/Veli, i≈übu s√∂zle≈ümeye taraf olma suretiyle, verdiƒüi t√ºm bilgilerin ve/veya √úye/Velilik ili≈ükisinin
                devamƒ±na herhangi bir suretle Kul√ºp'e verdiƒüi t√ºm ki≈üisel bilgilerinin, saƒülƒ±k ge√ßmi≈üi bilgilerinin, √úye/Velilik
                s√ºresince elde edilen ki≈üisel ve √∂zel nitelikli ki≈üisel verilerinin, √úye/Velilik bedelinin √∂denmesiyle baƒülantƒ±lƒ±
                olarak elektronik ve diƒüer ortamlarda verilen/verilecek bilgilerin, "Veri Sorumlusu" sƒ±fatƒ±yla Kul√ºp tarafƒ±ndan
                ve Kul√ºp ortaklarƒ±, i≈ü ortaklarƒ±, halefleri ve/veya bunlarƒ±n belirleyeceƒüi √º√ß√ºnc√º ki≈üiler tarafƒ±ndan, mezkur
                verilerin gizliliklerinin korunmasƒ± i√ßin gerekli tedbirleri almak ve ki≈üisel verilerin i≈ülenmesine dair kanuni
                ilkelere uymak suretiyle otomatik olan/olmayan y√∂ntemler ile alƒ±nmasƒ±na, devralƒ±nmasƒ±na, yasal s√ºreler
                a≈üƒ±lmamak √ºzere yurt i√ßinde ve/veya yurt dƒ±≈üƒ±nda yazƒ±lƒ±/dijital ar≈üivlere kaydedilmesine, depolanmasƒ±na,
                muhafaza edilmesine, elde edilebilir hale getirilmesine, kullanƒ±lmasƒ±na, g√ºncellenmesine, deƒüi≈ütirilmesine,
                yeniden d√ºzenlenmesine, sƒ±nƒ±flandƒ±rƒ±lmasƒ±na, yurt i√ßinde veya yurt dƒ±≈üƒ±na aktarƒ±lmasƒ±na ve sair kanunlara
                uygun ≈üekilde herhangi bir suretle i≈ülenmesine, bu hususta Kul√ºp tarafƒ±ndan √ße≈üitli mecralar √ºzerinden
                aydƒ±nlatƒ±lmƒ±≈ü ve yasal haklarƒ± hakkƒ±nda bilgilirilmi≈ü olarak a√ßƒ±k√ßa izin(rƒ±za/onay) verdiƒüini kabul, beyan
                ve taahh√ºt eder.</p>
                <p>1. Veri Sorumlusu:<br>
                Aykut YILDIRIM<br>
                Adres :<br>
                Telefon :<br>
                E-posta :</p>
                <p>2. Ki≈üisel Verilerin ƒ∞≈ülenme Ama√ßlarƒ±:<br>
                Ki≈üisel verileriniz; √úye/Velilik i≈ülemleri, spor etkinliklerine katƒ±lƒ±m y√∂netimi, ileti≈üim faaliyetleri,
                g√ºvenlik kayƒ±tlarƒ±nƒ±n tutulmasƒ±, kul√ºp i√ßi bilgilendirme ve organizasyon ama√ßlarƒ±yla i≈ülenmektedir. Ayrƒ±ca
                yasal y√ºk√ºml√ºl√ºklerimizi yerine getirmek, hukuki taleplere yanƒ±t vermek ve sizinle ileti≈üim kurmak amacƒ±yla
                da kullanƒ±lmaktadƒ±r.</p>
                <p>3. Toplanan Ki≈üisel Veriler:<br>
                Ad, soyad, ileti≈üim bilgileri, doƒüum tarihi, spor etkinliklerine ili≈ükin bilgiler gibi ki≈üisel veriler
                toplanmaktadƒ±r.</p>
                <p>4. Ki≈üisel Verilerin ƒ∞≈ülenme Hukuki Sebepleri:<br>
                Verileriniz, KVKK'nƒ±n 5. ve 6. maddeleri kapsamƒ±nda; a√ßƒ±k rƒ±za, s√∂zle≈ümenin kurulmasƒ± veya ifasƒ±,
                yasal y√ºk√ºml√ºl√ºklerin yerine getirilmesi, haklarƒ±n tesisi, kullanƒ±lmasƒ± veya korunmasƒ± gibi hukuki sebepler
                doƒürultusunda i≈ülenmektedir.</p>
                <p>5. Ki≈üisel Verilerin Saklama S√ºresi:<br>
                Ki≈üisel verileriniz, i≈ülenme amacƒ±nƒ±n gerektirdiƒüi s√ºre boyunca saklanacak, bu s√ºrenin sonunda
                silinecek veya anonim hale getirilecektir.</p>
                <p>6. Ki≈üisel Veri Sahiplerinin Haklarƒ±:<br>
                KVKK uyarƒ±nca veri sahipleri;<br>
                ‚Ä¢ Ki≈üisel verilerinin i≈ülenip i≈ülenmediƒüini √∂ƒürenme,<br>
                ‚Ä¢ ƒ∞≈ülenmi≈üse buna ili≈ükin bilgi talep etme,<br>
                ‚Ä¢ ƒ∞≈üleme amacƒ±nƒ± ve amaca uygun kullanƒ±lƒ±p kullanƒ±lmadƒ±ƒüƒ±nƒ± √∂ƒürenme,<br>
                ‚Ä¢ Verilerin aktarƒ±ldƒ±ƒüƒ± √º√ß√ºnc√º ki≈üileri bilme,<br>
                ‚Ä¢ Eksik veya yanlƒ±≈ü i≈ülenmi≈ü verilerin d√ºzeltilmesini isteme,<br>
                ‚Ä¢ Verilerin silinmesini veya yok edilmesini talep etme,<br>
                ‚Ä¢ Bu i≈ülemlerin √º√ß√ºnc√º ki≈üilere bildirilmesini isteme,<br>
                ‚Ä¢ Otomatik sistemlerle analiz sonucu aleyhe √ßƒ±kan sonu√ßlara itiraz etme hakkƒ±na sahiptir.</p>
                <p><strong>9-) SON H√úK√úMLER</strong><br>
                1) Bu anla≈ümanƒ±n uygulanmasƒ±ndan kaynaklanan t√ºm ihtilaflarda Samsun mahkemeleri ve icra daireleri
                yetkilidir.<br>
                2) Taraflarƒ±n s√∂zle≈ümenin giri≈üinde unvanlarƒ± altƒ±nda adresler s√∂zle≈üme uyarƒ±nca kanuni tebligat adresleri
                olarak kabul edilecek ve bu adreslere yapƒ±lan tebligatlar kendilerine yapƒ±lmƒ±≈ü sayƒ±lacaktƒ±r. Taraflardan biri
                adresinde meydana gelen deƒüi≈üikliƒüi 5 (be≈ü) g√ºn i√ßerisinde diƒüer tarafa bildirmediƒüi takdirde yukarƒ±daki yer
                alan adreslere Tebligat Kanunu h√ºk√ºmleri dahilinde yapƒ±lacak ihbar ve tebligat muteber olacaktƒ±r.<br>
                3)√úye/Veli, cep telefonu ve/veya e-mail adres deƒüi≈üikliƒüini yazƒ±lƒ± olarak Eƒüitmene bildirmediƒüi takdirde,
                bildirmi≈ü olduƒüu cep telefonu ve/veya e-posta adresine yapƒ±lacak bildirimlerin ge√ßerli olacaƒüƒ±nƒ± ve kendisine
                tebligatƒ±n yapƒ±lmƒ±≈ü sayƒ±lacaƒüƒ±nƒ± kabul, beyan ve taahh√ºt eder. ƒ∞≈übu √ºyelik nedeniyle yapƒ±lacak her t√ºrl√º
                bildirim, s√∂zle≈ümenin kabul√º sƒ±rasƒ±nda, √ºye tarafƒ±ndan bildirilen cep telefonu ve/veya e posta adresine
                g√∂nderilecek mesaj aracƒ±lƒ±ƒüƒ± ile saƒülanacaktƒ±r.</p>
                <p>√úYE/VELƒ∞ Eƒûƒ∞TMEN<br>
                -Re≈üit olmayan katƒ±lƒ±mcƒ±larƒ±n velileri veya vasileri i√ßin √úye, i≈übu belge ile a≈üaƒüƒ±da adƒ± ge√ßen katƒ±lƒ±mcƒ± i√ßin
                yasal sorumluluƒüu olan bir veli/vasi olarak, yukarƒ±da belirtilen ≈üekilde ≈üahsƒ±n ibrasƒ±na muvafakat ettiƒüini ve
                ibrayƒ± kabul ettiƒüini beyan eder. Ya≈üƒ± k√º√ß√ºk √ßocuƒüunun saƒülanan programlara katƒ±lƒ±mƒ± veya programlarla
                ili≈ükisi nedeniyle meydana gelen her t√ºrl√º sorumluluk doƒüuran olaylardan dolayƒ± Kul√ºp'√º, sahibini, ortaklarƒ±nƒ±
                ve √ßalƒ±≈üanlarƒ±nƒ± sorumlu tutmayacaƒüƒ±nƒ± taahh√ºt eder.</p>
                <p>Re≈üit Olmayanƒ±n Adƒ± ve Soyadƒ±:<br>
                Re≈üit Olmayanƒ±n Doƒüum Tarihi:<br>
                Velisinin/Vasisinin Adƒ± ve Soyadƒ±:<br>
                Velisinin/Vasisinin ƒ∞mzasƒ±:</p>`;

            // S√∂zle≈üme metnini DOM'a y√ºkle
            document.getElementById('contractTextArea').innerHTML = contractContent;

            // --- EVENT Lƒ∞STENERLAR ---
            
            // √úyelik s√ºresi deƒüi≈üikliƒüi
            const durationSelect = document.getElementById('membershipDuration');
            durationSelect.addEventListener('change', function() {
                document.getElementById('monthlyWarning').style.display = (this.value === 'Aylƒ±k') ? 'block' : 'none';
                document.getElementById('fourMonthWarning').style.display = (this.value === '4 Aylƒ±k') ? 'block' : 'none';
            });

            // Re≈üit olmayan √ºye kontrol√º
            const isMinorCheck = document.getElementById('isMinorCheck');
            isMinorCheck.addEventListener('change', function() {
                const isChecked = this.checked;
                document.getElementById('minorFields').style.display = isChecked ? 'block' : 'none';
                document.getElementById('minorFullName').required = isChecked;
                document.getElementById('minorDob').required = isChecked;
            });

            // --- ƒ∞MZA CANVAS ---
            const canvas = document.getElementById('signatureCanvas');
            const ctx = canvas.getContext('2d');
            let hasSignature = false;

            function resizeCanvas() {
                const container = canvas.parentElement;
                canvas.width = Math.min(400, container.clientWidth - 60);
                canvas.height = 200;
                ctx.strokeStyle = "#2d5a27";
                ctx.lineWidth = 2;
                ctx.lineCap = "round";
            }

            window.addEventListener("resize", resizeCanvas);
            resizeCanvas();

            let isDrawing = false;

            const getCoords = (e) => {
                const rect = canvas.getBoundingClientRect();
                const touch = e.touches ? e.touches[0] : null;
                return {
                    x: (touch ? touch.clientX : e.clientX) - rect.left,
                    y: (touch ? touch.clientY : e.clientY) - rect.top
                };
            };

            const startDrawing = (e) => {
                e.preventDefault();
                isDrawing = true;
                hasSignature = true;
                const { x, y } = getCoords(e);
                ctx.beginPath();
                ctx.moveTo(x, y);
            };

            const draw = (e) => {
                if (!isDrawing) return;
                e.preventDefault();
                const { x, y } = getCoords(e);
                ctx.lineTo(x, y);
                ctx.stroke();
            };

            const stopDrawing = () => {
                isDrawing = false;
            };

            // Mouse events
            canvas.addEventListener("mousedown", startDrawing);
            canvas.addEventListener("mousemove", draw);
            canvas.addEventListener("mouseup", stopDrawing);
            canvas.addEventListener("mouseout", stopDrawing);

            // Touch events
            canvas.addEventListener("touchstart", startDrawing);
            canvas.addEventListener("touchmove", draw);
            canvas.addEventListener("touchend", stopDrawing);

            // Global clear function
            window.clearSignature = function() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                hasSignature = false;
                document.getElementById("signatureWarning").style.display = "none";
            };

            // --- FORM SUBMIT ---
            document.getElementById('membershipForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                if (!hasSignature) { 
                    document.getElementById('signatureWarning').style.display = 'block'; 
                    return; 
                }
                
                const submitBtn = document.getElementById('submitBtn');
                const originalText = submitBtn.textContent;
                submitBtn.disabled = true;
                submitBtn.textContent = 'ƒ∞≈üleniyor...';
                document.body.classList.add('loading');

                try {
                    const formData = Object.fromEntries(new FormData(this).entries());
                    formData.timestamp = new Date().toISOString();
                    formData.signature = canvas.toDataURL('image/png');

                    // 1. PDF olu≈ütur ve indir
                    if (window.html2pdf) {
                        await downloadPDF(formData);
                    } else {
                        console.warn('PDF k√ºt√ºphanesi mevcut deƒüil, sadece veri g√∂nderiliyor');
                        alert('PDF indirme ≈üu anda mevcut deƒüil, ancak verileriniz kaydedildi.');
                    }

                    // 2. Webhook'a veri g√∂nder
                    try {
                        const response = await fetch(webhookUrl, {
                            method: 'POST',
                            body: JSON.stringify(formData),
                            headers: { 'Content-Type': 'application/json' },
                            mode: 'no-cors'
                        });
                        console.log('Webhook g√∂nderildi');
                    } catch (webhookError) {
                        console.error("Webhook g√∂nderim hatasƒ±:", webhookError);
                    }

                    // Ba≈üarƒ± mesajƒ± g√∂ster
                    document.getElementById('successMessage').style.display = 'block';
                    
                    // Formu temizle
                    this.reset();
                    clearSignature();
                    document.getElementById('monthlyWarning').style.display = 'none';
                    document.getElementById('fourMonthWarning').style.display = 'none';
                    document.getElementById('minorFields').style.display = 'none';

                } catch (error) {
                    console.error("ƒ∞≈ülem sƒ±rasƒ±nda hata olu≈ütu:", error);
                    alert("Bir hata olu≈ütu. L√ºtfen tekrar deneyin veya sayfayƒ± yenileyin.");
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalText;
                    document.body.classList.remove('loading');
                }
            });

            // --- PDF FONKSƒ∞YONU ---
            async function downloadPDF(data) {
                if (!window.html2pdf) {
                    throw new Error('HTML2PDF k√ºt√ºphanesi y√ºklenmemi≈ü');
                }
                
                // PDF i√ßin optimize edilmi≈ü HTML ≈üablonu olu≈ütur
                const generatePdfHtml = (d) => {
                    const minorHtml = d.Resit_Olmayan_Uye_Mi === 'on' ? `
                        <div class="section">
                            <h3>RE≈ûƒ∞T OLMAYAN √úYE Bƒ∞LGƒ∞LERƒ∞</h3>
                            <p><strong>Adƒ± Soyadƒ±:</strong> ${d.Resit_Olmayan_Adi_Soyadi || 'Belirtilmedi'}</p>
                            <p><strong>Doƒüum Tarihi:</strong> ${d.Resit_Olmayan_Dogum_Tarihi || 'Belirtilmedi'}</p>
                        </div>
                    ` : '';

                    // S√∂zle≈üme metnindeki yer tutucularƒ± ger√ßek verilerle deƒüi≈ütir
                    let filledContract = contractContent;
                    filledContract = filledContract.replace(/\[Bu alan formdan otomatik doldurulacaktƒ±r\]/g, function(match, offset, string) {
                        const beforeText = string.substring(0, offset);
                        if (beforeText.includes('Adƒ±-Soyadƒ± :') && !beforeText.includes('TCKN :')) return d.Ad_Soyad;
                        else if (beforeText.includes('Adres :') && !beforeText.includes('TCKN :')) return d.Adres;
                        else if (beforeText.includes('TCKN :')) return d.TC_Kimlik_No;
                        else if (beforeText.includes('Telefon :')) return d.Telefon;
                        else return d.Eposta;
                    });

                    return `
                    <!DOCTYPE html>
                    <html lang="tr">
                    <head>
                        <meta charset="UTF-8">
                        <style>
                            * { margin: 0; padding: 0; box-sizing: border-box; }
                            @page { 
                                margin: 15mm; 
                                size: A4; 
                                orphans: 2;
                                widows: 2;
                            }
                            body { 
                                font-family: 'Times New Roman', serif; 
                                font-size: 11px; 
                                line-height: 1.4; 
                                color: #000; 
                                background: white;
                                margin: 0;
                                padding: 0;
                            }
                            .pdf-container { 
                                width: 100%; 
                                margin: 0; 
                                padding: 0;
                                background: white;
                            }
                            h1 { 
                                font-size: 16px; 
                                text-align: center; 
                                color: #000; 
                                border-bottom: 1px solid #000; 
                                padding-bottom: 8px; 
                                margin-bottom: 15px;
                                page-break-after: avoid;
                            }
                            .section { 
                                margin-bottom: 15px; 
                                padding: 10px; 
                                border: 1px solid #ccc; 
                                page-break-inside: avoid;
                                background: white;
                            }
                            .section h3 { 
                                font-size: 12px; 
                                color: #000; 
                                margin: 0 0 8px 0;
                                page-break-after: avoid;
                                font-weight: bold;
                            }
                            .section p {
                                margin-bottom: 4px;
                                page-break-inside: avoid;
                            }
                            .contract { 
                                font-size: 9px;
                                line-height: 1.3;
                            }
                            .contract h4 {
                                font-size: 11px;
                                margin: 10px 0 5px 0;
                                page-break-after: avoid;
                            }
                            .contract p {
                                margin-bottom: 6px;
                                text-align: justify;
                            }
                            .signature-block { 
                                margin-top: 20px;
                                page-break-inside: avoid;
                            }
                            .signature-img {
                                width: 180px;
                                height: auto;
                                margin: 8px 0;
                                border-bottom: 1px solid #000;
                                display: block;
                            }
                            strong { font-weight: bold; }
                            .no-break { page-break-inside: avoid; }
                        </style>
                    </head>
                    <body>
                        <div class="pdf-container">
                            <h1>üéæ Atakum Tenis Kul√ºb√º √úyelik S√∂zle≈ümesi</h1>
                            
                            <div class="section no-break">
                                <h3>√úYE / VELƒ∞ Bƒ∞LGƒ∞LERƒ∞</h3>
                                <p><strong>Ad Soyad:</strong> ${d.Ad_Soyad}</p>
                                <p><strong>T.C. Kimlik No:</strong> ${d.TC_Kimlik_No}</p>
                                <p><strong>Telefon:</strong> ${d.Telefon}</p>
                                <p><strong>E-posta:</strong> ${d.Eposta}</p>
                                <p><strong>Adres:</strong> ${d.Adres}</p>
                                <p><strong>√úyelik S√ºresi:</strong> ${d.Uyelik_Suresi}</p>
                            </div>
                            
                            ${minorHtml}

                            <div class="section contract">
                                <h3>S√ñZLE≈ûME METNƒ∞</h3>
                                ${filledContract}
                            </div>

                            <div class="section signature-block no-break">
                                <h3>ONAY VE ƒ∞MZA</h3>
                                <p>Yukarƒ±daki s√∂zle≈ümeyi okuduƒüumu, anladƒ±ƒüƒ±mƒ± ve t√ºm ≈üartlarƒ±nƒ± kabul ettiƒüimi beyan ederim.</p>
                                <p><strong>ƒ∞mza Tarihi:</strong> ${new Date(d.timestamp).toLocaleString('tr-TR')}</p>
                                <p><strong>Dijital ƒ∞mza:</strong></p>
                                <img src="${d.signature}" class="signature-img" alt="Dijital ƒ∞mza"/>
                                <p style="margin-top: 10px;"><strong>ƒ∞mza Sahibi:</strong> ${d.Ad_Soyad}</p>
                            </div>
                        </div>
                    </body>
                    </html>
                    `;
                };
                
                const pdfHtmlContent = generatePdfHtml(data);

                // Optimize edilmi≈ü PDF ayarlarƒ±
                const opt = {
                    margin: [10, 10, 10, 10], // mm cinsinden kenar bo≈üluklarƒ±
                    filename: `${data.Ad_Soyad.replace(/\s+/g, '_')}_Tenis_Sozlesme_${new Date().toISOString().split('T')[0]}.pdf`,
                    image: { 
                        type: 'jpeg', 
                        quality: 0.95 
                    },
                    html2canvas: { 
                        scale: 1.5, 
                        useCORS: true, 
                        letterRendering: true,
                        allowTaint: true,
                        backgroundColor: '#ffffff',
                        logging: false,
                        width: 794,
                        height: 1123
                    },
                    jsPDF: { 
                        unit: 'mm', 
                        format: 'a4', 
                        orientation: 'portrait',
                        compress: true
                    },
                    pagebreak: { 
                        mode: ['avoid-all', 'css', 'legacy']
                    }
                };
                
                // PDF'i olu≈ütur ve indir
                await html2pdf().set(opt).from(pdfHtmlContent).save();
            }

            console.log('Atakum Tenis Kul√ºb√º formu ba≈üarƒ±yla y√ºklendi!');
        }
    </script>
</body>
</html>
