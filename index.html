<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atakum Tenis KulÃ¼bÃ¼ - Ãœyelik SÃ¶zleÅŸmesi</title>
    
    <style>
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --dark-green: #2d5a27;
            --light-green: #4a7c59;
            --light-bg: #f8f9ff;
            --border-color: #e1e5e9;
        }
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); 
            min-height: 100vh; 
            padding: 20px; 
            color: #333; 
        }
        
        .container { 
            max-width: 900px; 
            margin: 0 auto; 
            background: white; 
            border-radius: 20px; 
            box-shadow: 0 20px 60px rgba(0,0,0,0.1); 
            overflow: hidden; 
        }
        
        .header { 
            background: linear-gradient(135deg, var(--dark-green) 0%, var(--light-green) 100%); 
            color: white; 
            padding: 30px; 
            text-align: center; 
        }
        
        .header h1 { 
            font-size: 2.5em; 
            margin-bottom: 10px; 
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3); 
        }
        
        .header p { 
            font-size: 1.2em; 
            opacity: 0.9; 
        }
        
        .form-container { 
            padding: 40px; 
        }
        
        .form-section { 
            margin-bottom: 30px; 
            padding: 25px; 
            border-radius: 15px; 
            background: var(--light-bg); 
            border-left: 5px solid var(--primary-color); 
        }
        
        .section-title { 
            font-size: 1.4em; 
            color: var(--dark-green); 
            margin-bottom: 20px; 
            display: flex; 
            align-items: center; 
            gap: 10px; 
        }
        
        .form-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 20px; 
        }
        
        .form-group { 
            display: flex; 
            flex-direction: column; 
        }
        
        label { 
            font-weight: 600; 
            margin-bottom: 8px; 
            font-size: 0.95em; 
        }
        
        input, select, textarea { 
            padding: 12px 15px; 
            border: 2px solid var(--border-color); 
            border-radius: 10px; 
            font-size: 1em; 
            transition: all 0.3s ease; 
            width: 100%; 
        }
        
        input:focus, select:focus, textarea:focus { 
            outline: none; 
            border-color: var(--primary-color); 
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); 
        }
        
        .contract-text { 
            background: white; 
            padding: 25px; 
            border-radius: 10px; 
            border: 2px solid var(--border-color); 
            height: 400px; 
            overflow-y: auto; 
            font-size: 0.85em; 
            line-height: 1.6; 
        }
        
        .signature-section { 
            background: #fff; 
            border: 2px dashed var(--primary-color); 
            border-radius: 15px; 
            padding: 30px; 
            text-align: center; 
        }
        
        .signature-canvas { 
            border: 2px solid var(--border-color); 
            border-radius: 10px; 
            cursor: crosshair; 
            display: block; 
            margin: 20px auto; 
            max-width: 100%; 
        }
        
        .btn { 
            padding: 12px 25px; 
            border: none; 
            border-radius: 25px; 
            font-size: 1em; 
            font-weight: 600; 
            cursor: pointer; 
            transition: all 0.3s ease; 
            text-transform: uppercase; 
            letter-spacing: 0.5px; 
        }
        
        .btn-secondary { 
            background: #f8f9fa; 
            color: #6c757d; 
            border: 2px solid var(--border-color); 
        }
        
        .btn-success { 
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%); 
            color: white; 
            font-size: 1.2em; 
            padding: 15px 40px; 
        }
        
        .btn:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 10px 25px rgba(0,0,0,0.15); 
        }
        
        .checkbox-group { 
            display: flex; 
            align-items: flex-start; 
            gap: 15px; 
            margin-top: 20px; 
        }
        
        .checkbox-group input { 
            width: 20px; 
            height: 20px; 
            margin-top: 3px; 
            flex-shrink: 0;
        }
        
        .warning, .info-box { 
            background: #fff3cd; 
            border-left: 5px solid #ffeaa7; 
            color: #856404; 
            padding: 15px; 
            border-radius: 10px; 
            margin: 15px 0; 
        }
        
        .success-message { 
            background: #d4edda; 
            border: 1px solid #c3e6cb; 
            color: #155724; 
            padding: 20px; 
            border-radius: 15px; 
            text-align: center; 
            margin-top: 20px; 
            display: none; 
        }

        .loading {
            opacity: 0.7;
            pointer-events: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                border-radius: 10px;
            }
            
            .form-container {
                padding: 20px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .signature-canvas {
                width: 100%;
                max-width: 350px;
            }
        }
    </style>
</head>
<body>
    
    <div class="container" id="main-container">
        <div class="header">
            <h1>ğŸ¾ Atakum Tenis KulÃ¼bÃ¼</h1>
            <p>Online Ãœyelik SÃ¶zleÅŸmesi</p>
        </div>
        <div class="form-container">
            <form id="membershipForm">
                <div class="form-section">
                    <h3 class="section-title">ğŸ‘¤ Ãœye / Veli Bilgileri</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="fullName">Ad Soyad *</label>
                            <input type="text" id="fullName" name="Ad_Soyad" required>
                        </div>
                        <div class="form-group">
                            <label for="tcno">T.C. Kimlik No *</label>
                            <input type="text" id="tcno" name="TC_Kimlik_No" pattern="[0-9]{11}" maxlength="11" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Telefon *</label>
                            <input type="tel" id="phone" name="Telefon" required>
                        </div>
                        <div class="form-group">
                            <label for="email">E-posta *</label>
                            <input type="email" id="email" name="Eposta" required>
                        </div>
                    </div>
                    <div class="form-group" style="margin-top: 20px;">
                        <label for="address">Adres *</label>
                        <textarea id="address" name="Adres" rows="3" required></textarea>
                    </div>
                </div>
                 
                <div class="form-section">
                    <h3 class="section-title">ğŸ—“ï¸ Ãœyelik SÃ¼resi</h3>
                    <div class="form-group">
                        <label for="membershipDuration">Ãœyelik SÃ¼resini SeÃ§iniz *</label>
                        <select id="membershipDuration" name="Uyelik_Suresi" required>
                            <option value="">SeÃ§iniz...</option>
                            <option value="AylÄ±k">AylÄ±k</option>
                            <option value="4 AylÄ±k">4 AylÄ±k</option>
                        </select>
                    </div>
                    <div id="monthlyWarning" class="info-box" style="display: none;">
                        <strong>Bilgilendirme:</strong> AylÄ±k Ã¼yeliklerde, Ã¼yeliÄŸinizi sonlandÄ±rmak iÃ§in her ayÄ±n 14'Ã¼ne kadar kayÄ±t sildirmeniz gerekmektedir. Aksi takdirde Ã¼yelik otomatik olarak yenilenir.
                    </div>
                    <div id="fourMonthWarning" class="info-box" style="display: none;">
                        <strong>Bilgilendirme:</strong> 4 aylÄ±k Ã¼yeliklerde, sÃ¼reden Ã¶nce iptal edilen Ã¼yeliklerde sÃ¶zleÅŸme gereÄŸi cayma bedeli tahsil edilir.
                    </div>
                </div>
                 
                <div class="form-section">
                    <h3 class="section-title">ğŸ‘¶ ReÅŸit Olmayan Ãœye</h3>
                    <div class="checkbox-group">
                        <input type="checkbox" id="isMinorCheck" name="Resit_Olmayan_Uye_Mi">
                        <label for="isMinorCheck">18 yaÅŸÄ±ndan kÃ¼Ã§Ã¼k bir Ã¼ye iÃ§in dolduruyorum.</label>
                    </div>
                    <div id="minorFields" style="display: none; margin-top: 20px;">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="minorFullName">ReÅŸit OlmayanÄ±n AdÄ± SoyadÄ± *</label>
                                <input type="text" id="minorFullName" name="Resit_Olmayan_Adi_Soyadi">
                            </div>
                            <div class="form-group">
                                <label for="minorDob">ReÅŸit OlmayanÄ±n DoÄŸum Tarihi *</label>
                                <input type="date" id="minorDob" name="Resit_Olmayan_Dogum_Tarihi">
                            </div>
                        </div>
                    </div>
                </div>
                 
                <div class="form-section">
                    <h3 class="section-title">ğŸ“‹ Ãœyelik SÃ¶zleÅŸmesi</h3>
                    <div class="contract-text" id="contractTextArea"></div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="agreeContract" name="Sozlesme_Onayi" value="Kabul Edildi" required>
                        <label for="agreeContract">Ãœyelik sÃ¶zleÅŸmesini okudum, anladÄ±m ve kabul ediyorum. *</label>
                    </div>
                </div>
                 
                <div class="form-section">
                    <h3 class="section-title">âœï¸ Dijital Ä°mza</h3>
                    <div class="signature-section">
                        <p>LÃ¼tfen aÅŸaÄŸÄ±daki alana imzanÄ±zÄ± atÄ±n:</p>
                        <canvas id="signatureCanvas" class="signature-canvas" width="400" height="200"></canvas>
                        <div>
                            <button type="button" class="btn btn-secondary" onclick="clearSignature()">Ä°mzayÄ± Temizle</button>
                        </div>
                        <div id="signatureWarning" class="warning" style="display: none; margin-top: 15px;">
                            <strong>UyarÄ±:</strong> LÃ¼tfen dijital imzanÄ±zÄ± tamamlayÄ±n.
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button type="submit" class="btn btn-success" id="submitBtn">ğŸ“„ SÃ¶zleÅŸmeyi Ä°mzala ve Onayla</button>
                </div>
                
                <div class="success-message" id="successMessage">
                    <h3>âœ… BaÅŸarÄ±lÄ±!</h3>
                    <p>Ãœyelik sÃ¶zleÅŸmeniz baÅŸarÄ±yla tamamlandÄ±. Onay belgesi indiriliyor ve bilgileriniz kulÃ¼bÃ¼mÃ¼ze iletiliyor.</p>
                </div>
            </form>
        </div>
    </div>

    <!-- HTML2PDF kÃ¼tÃ¼phanesi -->
    <script>
        // HTML2PDF kÃ¼tÃ¼phanesini dinamik olarak yÃ¼kle
        function loadHTML2PDF() {
            return new Promise((resolve, reject) => {
                if (window.html2pdf) {
                    resolve();
                    return;
                }
                
                const script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js';
                script.onload = () => resolve();
                script.onerror = () => {
                    console.warn('HTML2PDF CDN yÃ¼klenemedi, alternatif yol deneniyor...');
                    // Alternatif CDN
                    const altScript = document.createElement('script');
                    altScript.src = 'https://unpkg.com/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js';
                    altScript.onload = () => resolve();
                    altScript.onerror = () => reject(new Error('HTML2PDF yÃ¼klenemedi'));
                    document.head.appendChild(altScript);
                };
                document.head.appendChild(script);
            });
        }

        // Sayfa yÃ¼klendiÄŸinde kÃ¼tÃ¼phaneyi yÃ¼kle
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                await loadHTML2PDF();
                console.log('HTML2PDF kÃ¼tÃ¼phanesi yÃ¼klendi');
                initializeApp();
            } catch (error) {
                console.error('HTML2PDF yÃ¼klenirken hata:', error);
                // PDF olmadan da Ã§alÄ±ÅŸabilsin
                initializeApp();
            }
        });

        function initializeApp() {
            // --- SABÄ°TLER ---
            const webhookUrl = 'https://n8n.edu-ai.online/webhook-test/10a31aa5-c942-46ec-bc5c-b221c24e5eae';
            
            // --- SÃ–ZLEÅME METNÄ° ---
            const contractContent = `<h4>ÃœYELÄ°K SÃ–ZLEÅMESÄ°</h4>
                <p><strong>1-) TARAFLAR</strong><br>
                <strong>A-KULÃœP</strong><br>
                AdÄ±-SoyadÄ± : Aykut YILDIRIM<br>
                ÃœnvanÄ± : Atakum Tenis<br>
                Adres : Derecik Mahallesi 1444. Sokak No:1 Ä°lkadÄ±m/Samsun<br>
                Vergi No : 9540639540<br>
                Telefon : 0544 936 75 43<br>
                E-mail : y.aykut7455@gmail.com<br>
                Bu sÃ¶zleÅŸmede bundan sonra "EÄÄ°TMEN/KULÃœP" olarak anÄ±lacaktÄ±r.<br>
                <strong>B-ÃœYE/VELÄ°</strong><br>
                AdÄ±-SoyadÄ± : [Bu alan formdan otomatik doldurulacaktÄ±r]<br>
                Adres : [Bu alan formdan otomatik doldurulacaktÄ±r]<br>
                TCKN : [Bu alan formdan otomatik doldurulacaktÄ±r]<br>
                Telefon : [Bu alan formdan otomatik doldurulacaktÄ±r]<br>
                E-mail : [Bu alan formdan otomatik doldurulacaktÄ±r]<br>
                Bu sÃ¶zleÅŸmede bundan sonra "ÃœYE/VELÄ°" olarak anÄ±lacaktÄ±r. Ãœye ve varsa veliye ait bilgiler yukarÄ±da
                yer alan kÄ±sma ayrÄ± ayrÄ± yazÄ±larak doldurulacaktÄ±r.</p>
                <p>Ãœye/Veli iÅŸbu sÃ¶zleÅŸmeyi onaylamasÄ± sÄ±rasÄ±nda EÄŸitmen tarafÄ±ndan kendisinden talep edilen her tÃ¼rlÃ¼
                bilgiyi eksiksiz ve doÄŸru olarak EÄŸitmene vermeyi kabul etmektedir. Ãœye/Veli, eÄŸitimler sÄ±rasÄ±nda EÄŸitmene
                bildirdiÄŸi bilgilerin doÄŸruluÄŸundan bizzat sorumludur.</p>
                <p>Ãœye/Veli, iÅŸbu sÃ¶zleÅŸmeye onayÄ± esnasÄ±nda beyan etmiÅŸ olduÄŸu cep telefonu numarasÄ± ve e-posta
                adresinin EÄŸitmen tarafÄ±ndan yapÄ±lacak her tÃ¼rlÃ¼ bildirim iÃ§in geÃ§erli tebligat mecralarÄ± sayÄ±lacaÄŸÄ±nÄ±, bu cep
                telefonu numarasÄ± ve e-posta adresinin kullanÄ±mÄ± ile ilgili her tÃ¼rlÃ¼ yetkinin kendisinde olduÄŸunu, ilgili cep
                telefonu numarasÄ± ve e-posta adresinin 3. kiÅŸiler tarafÄ±ndan kullanÄ±ldÄ±ÄŸÄ± ÅŸÃ¼phesinin varlÄ±ÄŸÄ± halinde bu durumu
                ve her halde cep telefonu numarasÄ± ve e-posta adresinde meydana gelen deÄŸiÅŸiklikleri EÄŸitmene bildirmekle
                yÃ¼kÃ¼mlÃ¼ olduÄŸunu kabul ve taahhÃ¼t eder.</p>
                <p><strong>2-) KONU</strong><br>
                Ä°ÅŸbu Ã¼yelik sÃ¶zleÅŸmesi, Ã¼yelik iÅŸlemlerinin gerÃ§ekleÅŸtirilmesi ile iÅŸbu sÃ¶zleÅŸmenin onaylanmasÄ±
                suretiyle, EÄŸitmen tarafÄ±ndan sunulacak hizmetin ÅŸartlarÄ±nÄ± ve taraflarÄ±n karÅŸÄ±lÄ±klÄ± hak ve yÃ¼kÃ¼mlÃ¼lÃ¼klerini
                dÃ¼zenlemektedir.</p>
                <p><strong>3-) SÃœRE</strong><br>
                SÃ¶zleÅŸme sÃ¼resi aylÄ±k ve 6 aylÄ±k periyotlar halinde dÃ¼zenlenmekte olup; kayÄ±tlar sÃ¶zleÅŸmenin biteceÄŸi
                ayÄ±n 15'inden Ã¶nce iptal edilmediÄŸi takdirde aylÄ±k veya 6 aylÄ±k olarak uzatÄ±lmÄ±ÅŸ sayÄ±lmaktadÄ±r. KayÄ±t
                silinmediÄŸi takdirde yeni dÃ¶neme iliÅŸkin Ã¼cret Ãœye/Veli tarafÄ±ndan kulÃ¼be Ã¶denecektir.</p>
                <p><strong>4-) ÃœCRET</strong><br>
                Ãœyelik bedeli, Ãœyelik satÄ±ÅŸ formunda belirtilen Ã¼yelik paketine gÃ¶re â€¦. Ay, aylÄ±kâ€¦â€¦.. TL olup; iÅŸbu
                bedel Ãœye/Veli tarafÄ±ndan Ã¶denecektir.</p>
                <p><strong>5-) Ã–DEMELER</strong><br>
                Ã–demelerin her ayÄ±n 20'sine kadar belirtilen hesaba yapÄ±lmasÄ± gerekmektedir. DÃ¶nem tarihlerine gÃ¶re
                eksik ya da fazla Ã¶deme durumu oluÅŸabilir. Ã–demelerin zamanÄ±nda yapÄ±lmamasÄ± durumunda; Ãœye/Veli,
                yapacaÄŸÄ± Ã¶demenin %25'i tutarÄ±nda cezai ÅŸart Ã¶demeyi kabul ve taahhÃ¼t eder.</p>
                <p>YapÄ±lan Ã¶demeler, derslere katÄ±lÄ±m taahhÃ¼dÃ¼ olarak kabul edilir. Ãœyenin derslere katÄ±lamamasÄ±
                sebebiyle Ã¼cret iadesi yapÄ±lmaz.</p>
                <p><strong>6-) ÃœYELÄ°K Ä°PTALLERÄ°</strong><br>
                Her ayÄ±n 14'Ã¼ kayÄ±t sildirme iÃ§in son gÃ¼ndÃ¼r. Bu tarihler sonrasÄ±nda yapÄ±lan kayÄ±t sildirmelerde yeni
                dÃ¶nem Ã¼creti tahsil edilir.</p>
                <p>KulÃ¼be veya kulÃ¼p tesislerine zarar verici davranÄ±ÅŸlarda bulunulmasÄ± durumunda kulÃ¼p Ã¼yeliÄŸi
                sonlandÄ±rÄ±labilir.</p>
                <p>1) DaimÃ® HastalÄ±k<br>
                Ãœyenin, Ã¼yelik sÃ¼resi iÃ§erisinde derslere gelmesini veya derslerdeki aktivitelere katÄ±lmasÄ±nÄ±
                engelleyecek daimÃ® bir hastalÄ±ÄŸa tutulmasÄ± ve bu durumun tam teÅŸekkÃ¼llÃ¼ devlet hastanesinden alÄ±nmÄ±ÅŸ heyet
                raporu ile belgelenmesi halinde Ã¼yelik iptal edilir. Ãœyenin Ã¼yelik Ã¼cretinin tamamÄ±nÄ± Ã¶demiÅŸ olmasÄ±
                durumunda, kullanÄ±lmayan sÃ¼reye ait Ã¶denen Ã¼cretten %.10kesinti yapÄ±larak, kalan tutar faizsiz olarak
                Ãœye/Veliye iade edilir. KullanÄ±lan hizmet sÃ¼resinin bedeli iade olunmaz. Ãœye/Veli, bu madde gereÄŸince iÅŸlem
                yapÄ±labilmesi iÃ§in, hastalÄ±ÄŸa iliÅŸkin raporunu Ã¼st yazÄ± ile birlikte EÄŸitmene verecektir. HastalÄ±ÄŸa iliÅŸkin
                raporun, rapor tarihinden itibaren en geÃ§ 10 gÃ¼n iÃ§erisinde verilmesi gerekmektedir. GeÃ§ verilen rapor ve
                dilekÃ§eler iÅŸlem gÃ¶rmeyecek, geÃ§ersiz kabul edilecektir.</p>
                <p>2) EÄŸitmenin Tek TaraflÄ± Fesih HakkÄ±<br>
                EÄŸitmen taraflar arasÄ±ndaki iÅŸbu sÃ¶zleÅŸmeyi her zaman 5 gÃ¼n Ã¶nceden bildirimde bulunmak kaydÄ±yla
                herhangi bir gerekÃ§e gÃ¶stermeksizin tek taraflÄ± olarak feshedebilir.</p>
                <p>Ãœye/Veli, iÅŸbu sÃ¶zleÅŸmeyi imzalayarak bu maddeyi peÅŸinen kabul etmiÅŸ sayÄ±lÄ±r. Bu durumda EÄŸitmen
                Ãœyenin kullanÄ±lmayan sÃ¼reye iliÅŸkin Ãœyelik Ã¼cretini Ã¶demiÅŸ olmasÄ± durumunda, Ã¶demiÅŸ olduÄŸu Ã¼creti faizsiz
                olarak 5 gÃ¼n iÃ§erisinde Ãœye/Veliye iade edecektir.</p>
                <p>AyrÄ±ca EÄŸitmen haklÄ± bir nedenin varlÄ±ÄŸÄ± halinde sÃ¶zleÅŸmeyi herhangi bir sÃ¼re olmaksÄ±zÄ±n derhal tek
                taraflÄ± olarak da feshedebilir. Bu durumda, Ã¼yenin Ã¼yelik Ã¼cretinin kullanÄ±lmayan kÄ±smÄ± iade edilmez.</p>
                <p><strong>7-) EÄÄ°TÄ°ME Ä°LÄ°ÅKÄ°N KURALLAR</strong><br>
                A) Ãœyelik ÅartlarÄ± ile Ãœye/Velinin Hak ve YÃ¼kÃ¼mlÃ¼lÃ¼kleri<br>
                1) EÄŸitmen, her tÃ¼rlÃ¼ Ã¼yelik talebini hiÃ§bir gerekÃ§e gÃ¶stermeksizin tek taraflÄ± olarak reddetme hakkÄ±na sahiptir.<br>
                2) EÄŸitmenden, suÃ§ iÅŸlememiÅŸ ve herhangi bir yÃ¼z kÄ±zartÄ±cÄ± suÃ§tan sabÄ±ka kaydÄ± bulunmayan T.C. vatandaÅŸlarÄ±
                ile yabancÄ± uyruklu kiÅŸiler ders alabilir. EÄŸitmenin bu hususa iliÅŸkin adli sicil belgesi (sabÄ±ka kaydÄ±) talep etme
                ve deÄŸerlendirme hakkÄ± saklÄ±dÄ±r.<br>
                3) EÄŸitmen Ãœye/Veliden, bulaÅŸÄ±cÄ± hastalÄ±klar gibi toplumu veya diÄŸer Ãœye/Velilerin saÄŸlÄ±ÄŸÄ±nÄ± tehlikeye
                dÃ¼ÅŸÃ¼rebilecek bir hastalÄ±ÄŸÄ±nÄ±n bulunmadÄ±ÄŸÄ±na dair saÄŸlÄ±k raporu ya da tahlil sonucu talep edebilir. SÃ¶z konusu
                tahliller sonucunda bulaÅŸÄ±cÄ± hastalÄ±k ve benzeri bir bulguya rastlanmasÄ± halinde EÄŸitmen, ÃœyeliÄŸi yapacaÄŸÄ± bir
                fesih bildirimi ile sona erdirme hakkÄ±na haizdir.<br>
                4) Ãœye/Veli, Ã¼yelik iÃ§in gerekli olan her tÃ¼rlÃ¼ belgeyi eksiksiz ve doÄŸru bir ÅŸekilde temin edecek; Ã¼yelik onayÄ±
                iÃ§in ve/veya Ã¼yeliÄŸin devamÄ± sÄ±rasÄ±nda EÄŸitmen tarafÄ±ndan talep edilecek her tÃ¼rlÃ¼ bilgi, belge, rapor vb.
                hususlarÄ± derhal temin ederek EÄŸitmene ibraz edecektir.<br>
                5) Ãœyelerin spor faaliyetine katÄ±lmak iÃ§in gerekli saÄŸlÄ±k ÅŸartlarÄ±nÄ± taÅŸÄ±yÄ±p taÅŸÄ±madÄ±klarÄ±, spor aktivitesine uygun
                olup olmadÄ±klarÄ±, tÄ±bbi kontrollerini yaptÄ±rÄ±p yaptÄ±rmadÄ±klarÄ± veya saÄŸlÄ±k danÄ±ÅŸmanlarÄ±nÄ±n yaptÄ±ÄŸÄ± tÄ±bbi
                tavsiyelerden ya da bunlarÄ±n neticelerinden dolayÄ± EÄŸitmenin herhangi bir sorumluluÄŸu bulunmamaktadÄ±r.
                Ãœye/Veli, Ã¼yelik sÃ¶zleÅŸmesini imzaladÄ±ÄŸÄ± andan itibaren; saÄŸlÄ±k durumunun spor yapmaya elveriÅŸli olduÄŸunu,
                spor faaliyetine katÄ±lmasÄ±na engel bir Ã¶zrÃ¼ ve rahatsÄ±zlÄ±ÄŸÄ±nÄ±n bulunmadÄ±ÄŸÄ±nÄ±, faaliyete katÄ±lmasÄ±nÄ±n saÄŸlÄ±ÄŸÄ±na
                ve fiziksel durumuna bir zarar vermeyeceÄŸini beyan ve taahhÃ¼t etmiÅŸtir.<br>
                6) Ãœyelerin, ders veya aktivitelerden faydalanmamalarÄ± halinde dahi belirlenen bedelleri zamanÄ±nda ve tam
                olarak Ã¶demeleri zorunludur. Ãœyelerin yapÄ±lacak aktivitelerden veya verilecek derslerden yararlanmamalarÄ±
                hiÃ§bir ÅŸekil ve ÅŸartta Ãœye/Veliye Ã¼yelik bedelini Ã¶dememe hakkÄ± vermemektedir. Ãœye derslerden yararlanmasa
                dahi Ãœyelika bedellerini Ã¶demek zorundadÄ±r.<br>
                7) Ãœye/Veli, kendisinin veya misafirlerinin ÅŸahsi kusurlarÄ±, dikkatsizliÄŸi veya ihmalleri ile; kulÃ¼be veya 3.
                KiÅŸilere ait eÅŸyalar Ã¼zerinde meydana getirecekleri tÃ¼m hasar ve zarardan ve yine diÄŸer Ãœye/Velilerin yahut
                EÄŸitmen Ã§alÄ±ÅŸanlarÄ±nÄ±n ve 3. kiÅŸilerin uÄŸramÄ±ÅŸ olduÄŸu tÃ¼m zarar ve kayÄ±plardan sorumludur.</p>
                <p>B) KULÃœP KURALLARI<br>
                a) Grup dersleri aylÄ±k 8 derstir.<br>
                b) Grup derslerinde ders bir kez iÅŸlendiÄŸinden, Ã¼yenin katÄ±lamadÄ±ÄŸÄ± dersler iÃ§in telafi yapÄ±lmaz.<br>
                c) Ã–zel ders paketleri 1 aylÄ±k sÃ¼reyle geÃ§erlidir. Bu sÃ¼re iÃ§inde kullanÄ±lmayan ders haklarÄ± bir sonraki aya
                devredilmez.<br>
                d) Spor branÅŸlarÄ±nda herhangi bir kaza, yaralanma veya saÄŸlÄ±k problemi durumunda sorumluluk tamamen
                Ãœye/Veliye aittir.<br>
                e) KayÄ±t sildirme iÅŸlemi yapÄ±ldÄ±ÄŸÄ±nda sistem Ã¼zerinden tÃ¼m kiÅŸisel verileriniz ve kayÄ±t bilgileriniz silinir.<br>
                f) Ãœyelerin derse zamanÄ±nda, uygun kÄ±yafetle ve hazÄ±r ÅŸekilde gelmesi Ãœye/Velilerin sorumluluÄŸundadÄ±r.<br>
                g) KayÄ±t silme talebinde bulunan Ã¶ÄŸrencinin kalan dersleri mevcut dÃ¶nem tarihleri iÃ§erisinde yapÄ±lÄ±r.</p>
                <p>C) GENEL KURALLAR<br>
                1) KulÃ¼p bÃ¼nyesinde Ãœye/Veliler genel nezaket kurallarÄ±na uymakla yÃ¼kÃ¼mlÃ¼dÃ¼rler. Kort iÃ§inde veya dÄ±ÅŸÄ±nda
                nezaket kurallarÄ±na uymayan davranÄ±ÅŸlarda bulunan, huzuru kaÃ§Ä±ran, hakaret, kÃ¼fÃ¼r kullanan Ãœye/Velilerin
                Ãœye/Velilikleri herhangi bir uyarÄ±ya gerek kalmadan resen iptal edilebilir. Bu takdirde Ãœye/Velilik bedelleri
                kÄ±smen dahi geri Ã¶denmez.<br>
                2) KayÄ±p eÅŸyalardan KulÃ¼p sorumlu deÄŸildir.<br>
                3) Ãœye/Veli ruhsatlÄ± bile olsa KulÃ¼p'e delici, kesici ve patlayÄ±cÄ± alet veya silahla giremez. Aksi hallerde
                Ãœye/Veli KulÃ¼p'e giremeyecektir.<br>
                4) Ãœye/Velinin KapalÄ± alanlarda ve KulÃ¼p tarafÄ±ndan yasaklanan alanlarda sigara iÃ§mesi kesinlikle yasaktÄ±r.<br>
                5) KulÃ¼p iÃ§ine dÄ±ÅŸarÄ±dan yiyecek iÃ§ecek getirmek yasaktÄ±r.<br>
                6) Soyunma odalarÄ±ndaki dolaplar gÃ¼nlÃ¼k kullanÄ±m iÃ§indir. Ãœye/Velinin tek dolap kullanÄ±m hakkÄ± vardÄ±r.<br>
                7) Ãœye/Veliler, tÃ¼m eÅŸyalarÄ±nÄ± dolap iÃ§ine koymalÄ±, dolap kapaklarÄ±na ve/veya dÄ±ÅŸÄ±na herhangi bir eÅŸya
                asmamalÄ± ve dolaplarÄ±nÄ± kilitlemelidirler. Dolaplar kullanÄ±m sonrasÄ± tamamen boÅŸaltÄ±lmalÄ±dÄ±r.<br>
                8) Dolap iÃ§inde cep telefonlarÄ± sessiz konumda bÄ±rakÄ±lmalÄ±dÄ±r.<br>
                9) GÃ¼nlÃ¼k dolaplar kullanÄ±m sonrasÄ± boÅŸ ve aÃ§Ä±k olarak bÄ±rakÄ±lmalÄ±dÄ±r. KulÃ¼p, hijyen ve gÃ¼venlik nedenleri ile
                gÃ¼n sonunda kilitli dolaplarÄ± gÃ¶revli yÃ¶netici eÅŸliÄŸinde aÃ§ma ve iÃ§indeki eÅŸyalarÄ± boÅŸaltma hakkÄ±na sahiptir.
                Dolapta bÄ±rakÄ±lan eÅŸyanÄ±n kaybolmasÄ±ndan veya hasarÄ±ndan KulÃ¼p sorumlu tutulamaz.<br>
                10) Soyunma odalarÄ±nda gÃ¶rÃ¼ntÃ¼/ses kaydÄ± yapÄ±lmasÄ± kesinlikle yasaktÄ±r. Aksi davranÄ±ÅŸta bulunanlarÄ±n tespiti
                halinde, KulÃ¼p tarafÄ±ndan her tÃ¼rlÃ¼ hak saklÄ± tutulmak kaydÄ± ile Ãœye/Velilik feshi hÃ¼kÃ¼mleri
                uygulanabilecektir. Ãœye/Veli, soyunma odalarÄ±nda gerÃ§ekleÅŸtirilen gÃ¶rÃ¼ntÃ¼/ses kaydÄ±nÄ±n sonuÃ§larÄ±ndan
                KulÃ¼p'Ã¼n hiÃ§bir sorumluluÄŸu olmadÄ±ÄŸÄ±nÄ± kabul, beyan ve taahhÃ¼t eder.<br>
                11) Soyunma odalarÄ±nda Ã¶zel ve deÄŸerli eÅŸya bÄ±rakÄ±lmamalÄ±dÄ±r. BÄ±rakÄ±lan eÅŸyalarÄ±n kaybolmasÄ±ndan veya
                hasarÄ±ndan KulÃ¼p sorumlu tutulamaz.<br>
                12) KulÃ¼p, sunduÄŸu hizmetler ve Ã§alÄ±ÅŸmalar ile ilgili kurallar ve uygulamalarda, zaman ve ihtiyaca baÄŸlÄ±
                deÄŸiÅŸiklikler yapabilir, yeni maddeler ilave edebilir. Olabilecek bÃ¼tÃ¼n deÄŸiÅŸiklikler Ãœye/Velilere bildirilir.<br>
                13) Tesisin tÃ¼m alanlarÄ±nda Ãœye/Velilerin hijyeni, saÄŸlÄ±ÄŸÄ± ve gÃ¼venliÄŸi dÃ¼ÅŸÃ¼nÃ¼lerek hazÄ±rlanan prosedÃ¼r ve
                kullanÄ±m kurallarÄ±na uyulmasÄ± zorunludur.<br>
                14) KulÃ¼p sÄ±nÄ±rlarÄ± iÃ§erisinde (aÃ§Ä±k ve kapalÄ± alan fark etmeksizin) sigara iÃ§mek yasaktÄ±r.</p>
                <p><strong>8- KÄ°ÅÄ°SEL VE Ã–ZEL NÄ°TELÄ°KLÄ° KÄ°ÅÄ°SEL VERÄ°LERÄ°N Ä°ÅLENMESÄ°</strong><br>
                Ãœye/Veli, iÅŸbu sÃ¶zleÅŸmeye taraf olma suretiyle, verdiÄŸi tÃ¼m bilgilerin ve/veya Ãœye/Velilik iliÅŸkisinin
                devamÄ±na herhangi bir suretle KulÃ¼p'e verdiÄŸi tÃ¼m kiÅŸisel bilgilerinin, saÄŸlÄ±k geÃ§miÅŸi bilgilerinin, Ãœye/Velilik
                sÃ¼resince elde edilen kiÅŸisel ve Ã¶zel nitelikli kiÅŸisel verilerinin, Ãœye/Velilik bedelinin Ã¶denmesiyle baÄŸlantÄ±lÄ±
                olarak elektronik ve diÄŸer ortamlarda verilen/verilecek bilgilerin, "Veri Sorumlusu" sÄ±fatÄ±yla KulÃ¼p tarafÄ±ndan
                ve KulÃ¼p ortaklarÄ±, iÅŸ ortaklarÄ±, halefleri ve/veya bunlarÄ±n belirleyeceÄŸi Ã¼Ã§Ã¼ncÃ¼ kiÅŸiler tarafÄ±ndan, mezkur
                verilerin gizliliklerinin korunmasÄ± iÃ§in gerekli tedbirleri almak ve kiÅŸisel verilerin iÅŸlenmesine dair kanuni
                ilkelere uymak suretiyle otomatik olan/olmayan yÃ¶ntemler ile alÄ±nmasÄ±na, devralÄ±nmasÄ±na, yasal sÃ¼reler
                aÅŸÄ±lmamak Ã¼zere yurt iÃ§inde ve/veya yurt dÄ±ÅŸÄ±nda yazÄ±lÄ±/dijital arÅŸivlere kaydedilmesine, depolanmasÄ±na,
                muhafaza edilmesine, elde edilebilir hale getirilmesine, kullanÄ±lmasÄ±na, gÃ¼ncellenmesine, deÄŸiÅŸtirilmesine,
                yeniden dÃ¼zenlenmesine, sÄ±nÄ±flandÄ±rÄ±lmasÄ±na, yurt iÃ§inde veya yurt dÄ±ÅŸÄ±na aktarÄ±lmasÄ±na ve sair kanunlara
                uygun ÅŸekilde herhangi bir suretle iÅŸlenmesine, bu hususta KulÃ¼p tarafÄ±ndan Ã§eÅŸitli mecralar Ã¼zerinden
                aydÄ±nlatÄ±lmÄ±ÅŸ ve yasal haklarÄ± hakkÄ±nda bilgilirilmiÅŸ olarak aÃ§Ä±kÃ§a izin(rÄ±za/onay) verdiÄŸini kabul, beyan
                ve taahhÃ¼t eder.</p>
                <p>1. Veri Sorumlusu:<br>
                Aykut YILDIRIM<br>
                Adres :<br>
                Telefon :<br>
                E-posta :</p>
                <p>2. KiÅŸisel Verilerin Ä°ÅŸlenme AmaÃ§larÄ±:<br>
                KiÅŸisel verileriniz; Ãœye/Velilik iÅŸlemleri, spor etkinliklerine katÄ±lÄ±m yÃ¶netimi, iletiÅŸim faaliyetleri,
                gÃ¼venlik kayÄ±tlarÄ±nÄ±n tutulmasÄ±, kulÃ¼p iÃ§i bilgilendirme ve organizasyon amaÃ§larÄ±yla iÅŸlenmektedir. AyrÄ±ca
                yasal yÃ¼kÃ¼mlÃ¼lÃ¼klerimizi yerine getirmek, hukuki taleplere yanÄ±t vermek ve sizinle iletiÅŸim kurmak amacÄ±yla
                da kullanÄ±lmaktadÄ±r.</p>
                <p>3. Toplanan KiÅŸisel Veriler:<br>
                Ad, soyad, iletiÅŸim bilgileri, doÄŸum tarihi, spor etkinliklerine iliÅŸkin bilgiler gibi kiÅŸisel veriler
                toplanmaktadÄ±r.</p>
                <p>4. KiÅŸisel Verilerin Ä°ÅŸlenme Hukuki Sebepleri:<br>
                Verileriniz, KVKK'nÄ±n 5. ve 6. maddeleri kapsamÄ±nda; aÃ§Ä±k rÄ±za, sÃ¶zleÅŸmenin kurulmasÄ± veya ifasÄ±,
                yasal yÃ¼kÃ¼mlÃ¼lÃ¼klerin yerine getirilmesi, haklarÄ±n tesisi, kullanÄ±lmasÄ± veya korunmasÄ± gibi hukuki sebepler
                doÄŸrultusunda iÅŸlenmektedir.</p>
                <p>5. KiÅŸisel Verilerin Saklama SÃ¼resi:<br>
                KiÅŸisel verileriniz, iÅŸlenme amacÄ±nÄ±n gerektirdiÄŸi sÃ¼re boyunca saklanacak, bu sÃ¼renin sonunda
                silinecek veya anonim hale getirilecektir.</p>
                <p>6. KiÅŸisel Veri Sahiplerinin HaklarÄ±:<br>
                KVKK uyarÄ±nca veri sahipleri;<br>
                â€¢ KiÅŸisel verilerinin iÅŸlenip iÅŸlenmediÄŸini Ã¶ÄŸrenme,<br>
                â€¢ Ä°ÅŸlenmiÅŸse buna iliÅŸkin bilgi talep etme,<br>
                â€¢ Ä°ÅŸleme amacÄ±nÄ± ve amaca uygun kullanÄ±lÄ±p kullanÄ±lmadÄ±ÄŸÄ±nÄ± Ã¶ÄŸrenme,<br>
                â€¢ Verilerin aktarÄ±ldÄ±ÄŸÄ± Ã¼Ã§Ã¼ncÃ¼ kiÅŸileri bilme,<br>
                â€¢ Eksik veya yanlÄ±ÅŸ iÅŸlenmiÅŸ verilerin dÃ¼zeltilmesini isteme,<br>
                â€¢ Verilerin silinmesini veya yok edilmesini talep etme,<br>
                â€¢ Bu iÅŸlemlerin Ã¼Ã§Ã¼ncÃ¼ kiÅŸilere bildirilmesini isteme,<br>
                â€¢ Otomatik sistemlerle analiz sonucu aleyhe Ã§Ä±kan sonuÃ§lara itiraz etme hakkÄ±na sahiptir.</p>
                <p><strong>9-) SON HÃœKÃœMLER</strong><br>
                1) Bu anlaÅŸmanÄ±n uygulanmasÄ±ndan kaynaklanan tÃ¼m ihtilaflarda Samsun mahkemeleri ve icra daireleri
                yetkilidir.<br>
                2) TaraflarÄ±n sÃ¶zleÅŸmenin giriÅŸinde unvanlarÄ± altÄ±nda adresler sÃ¶zleÅŸme uyarÄ±nca kanuni tebligat adresleri
                olarak kabul edilecek ve bu adreslere yapÄ±lan tebligatlar kendilerine yapÄ±lmÄ±ÅŸ sayÄ±lacaktÄ±r. Taraflardan biri
                adresinde meydana gelen deÄŸiÅŸikliÄŸi 5 (beÅŸ) gÃ¼n iÃ§erisinde diÄŸer tarafa bildirmediÄŸi takdirde yukarÄ±daki yer
                alan adreslere Tebligat Kanunu hÃ¼kÃ¼mleri dahilinde yapÄ±lacak ihbar ve tebligat muteber olacaktÄ±r.<br>
                3)Ãœye/Veli, cep telefonu ve/veya e-mail adres deÄŸiÅŸikliÄŸini yazÄ±lÄ± olarak EÄŸitmene bildirmediÄŸi takdirde,
                bildirmiÅŸ olduÄŸu cep telefonu ve/veya e-posta adresine yapÄ±lacak bildirimlerin geÃ§erli olacaÄŸÄ±nÄ± ve kendisine
                tebligatÄ±n yapÄ±lmÄ±ÅŸ sayÄ±lacaÄŸÄ±nÄ± kabul, beyan ve taahhÃ¼t eder. Ä°ÅŸbu Ã¼yelik nedeniyle yapÄ±lacak her tÃ¼rlÃ¼
                bildirim, sÃ¶zleÅŸmenin kabulÃ¼ sÄ±rasÄ±nda, Ã¼ye tarafÄ±ndan bildirilen cep telefonu ve/veya e posta adresine
                gÃ¶nderilecek mesaj aracÄ±lÄ±ÄŸÄ± ile saÄŸlanacaktÄ±r.</p>
                <p>ÃœYE/VELÄ° EÄÄ°TMEN<br>
                -ReÅŸit olmayan katÄ±lÄ±mcÄ±larÄ±n velileri veya vasileri iÃ§in Ãœye, iÅŸbu belge ile aÅŸaÄŸÄ±da adÄ± geÃ§en katÄ±lÄ±mcÄ± iÃ§in
                yasal sorumluluÄŸu olan bir veli/vasi olarak, yukarÄ±da belirtilen ÅŸekilde ÅŸahsÄ±n ibrasÄ±na muvafakat ettiÄŸini ve
                ibrayÄ± kabul ettiÄŸini beyan eder. YaÅŸÄ± kÃ¼Ã§Ã¼k Ã§ocuÄŸunun saÄŸlanan programlara katÄ±lÄ±mÄ± veya programlarla
                iliÅŸkisi nedeniyle meydana gelen her tÃ¼rlÃ¼ sorumluluk doÄŸuran olaylardan dolayÄ± KulÃ¼p'Ã¼, sahibini, ortaklarÄ±nÄ±
                ve Ã§alÄ±ÅŸanlarÄ±nÄ± sorumlu tutmayacaÄŸÄ±nÄ± taahhÃ¼t eder.</p>
                <p>ReÅŸit OlmayanÄ±n AdÄ± ve SoyadÄ±:<br>
                ReÅŸit OlmayanÄ±n DoÄŸum Tarihi:<br>
                Velisinin/Vasisinin AdÄ± ve SoyadÄ±:<br>
                Velisinin/Vasisinin Ä°mzasÄ±:</p>`;

            // SÃ¶zleÅŸme metnini DOM'a yÃ¼kle
            document.getElementById('contractTextArea').innerHTML = contractContent;

            // --- EVENT LÄ°STENERLAR ---
            
            // Ãœyelik sÃ¼resi deÄŸiÅŸikliÄŸi
            const durationSelect = document.getElementById('membershipDuration');
            durationSelect.addEventListener('change', function() {
                document.getElementById('monthlyWarning').style.display = (this.value === 'AylÄ±k') ? 'block' : 'none';
                document.getElementById('fourMonthWarning').style.display = (this.value === '4 AylÄ±k') ? 'block' : 'none';
            });

            // ReÅŸit olmayan Ã¼ye kontrolÃ¼
            const isMinorCheck = document.getElementById('isMinorCheck');
            isMinorCheck.addEventListener('change', function() {
                const isChecked = this.checked;
                document.getElementById('minorFields').style.display = isChecked ? 'block' : 'none';
                document.getElementById('minorFullName').required = isChecked;
                document.getElementById('minorDob').required = isChecked;
            });

            // --- Ä°MZA CANVAS ---
            const canvas = document.getElementById('signatureCanvas');
            const ctx = canvas.getContext('2d');
            let hasSignature = false;

            function resizeCanvas() {
                const container = canvas.parentElement;
                canvas.width = Math.min(400, container.clientWidth - 60);
                canvas.height = 200;
                ctx.strokeStyle = "#2d5a27";
                ctx.lineWidth = 2;
                ctx.lineCap = "round";
            }

            window.addEventListener("resize", resizeCanvas);
            resizeCanvas();

            let isDrawing = false;

            const getCoords = (e) => {
                const rect = canvas.getBoundingClientRect();
                const touch = e.touches ? e.touches[0] : null;
                return {
                    x: (touch ? touch.clientX : e.clientX) - rect.left,
                    y: (touch ? touch.clientY : e.clientY) - rect.top
                };
            };

            const startDrawing = (e) => {
                e.preventDefault();
                isDrawing = true;
                hasSignature = true;
                const { x, y } = getCoords(e);
                ctx.beginPath();
                ctx.moveTo(x, y);
            };

            const draw = (e) => {
                if (!isDrawing) return;
                e.preventDefault();
                const { x, y } = getCoords(e);
                ctx.lineTo(x, y);
                ctx.stroke();
            };

            const stopDrawing = () => {
                isDrawing = false;
            };

            // Mouse events
            canvas.addEventListener("mousedown", startDrawing);
            canvas.addEventListener("mousemove", draw);
            canvas.addEventListener("mouseup", stopDrawing);
            canvas.addEventListener("mouseout", stopDrawing);

            // Touch events
            canvas.addEventListener("touchstart", startDrawing);
            canvas.addEventListener("touchmove", draw);
            canvas.addEventListener("touchend", stopDrawing);

            // Global clear function
            window.clearSignature = function() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                hasSignature = false;
                document.getElementById("signatureWarning").style.display = "none";
            };

            // --- FORM SUBMIT ---
            document.getElementById('membershipForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                if (!hasSignature) { 
                    document.getElementById('signatureWarning').style.display = 'block'; 
                    return; 
                }
                
                const submitBtn = document.getElementById('submitBtn');
                const originalText = submitBtn.textContent;
                submitBtn.disabled = true;
                submitBtn.textContent = 'Ä°ÅŸleniyor...';
                document.body.classList.add('loading');

                try {
                    const formData = Object.fromEntries(new FormData(this).entries());
                    formData.timestamp = new Date().toISOString();
                    formData.signature = canvas.toDataURL('image/png');

                    // 1. PDF oluÅŸtur ve indir
                    if (window.html2pdf) {
                        await downloadPDF(formData);
                    } else {
                        console.warn('PDF kÃ¼tÃ¼phanesi mevcut deÄŸil, sadece veri gÃ¶nderiliyor');
                        alert('PDF indirme ÅŸu anda mevcut deÄŸil, ancak verileriniz kaydedildi.');
                    }

                    // 2. Webhook'a veri gÃ¶nder
                    try {
                        const response = await fetch(webhookUrl, {
                            method: 'POST',
                            body: JSON.stringify(formData),
                            headers: { 'Content-Type': 'application/json' },
                            mode: 'no-cors'
                        });
                        console.log('Webhook gÃ¶nderildi');
                    } catch (webhookError) {
                        console.error("Webhook gÃ¶nderim hatasÄ±:", webhookError);
                    }

                    // BaÅŸarÄ± mesajÄ± gÃ¶ster
                    document.getElementById('successMessage').style.display = 'block';
                    
                    // Formu temizle
                    this.reset();
                    clearSignature();
                    document.getElementById('monthlyWarning').style.display = 'none';
                    document.getElementById('fourMonthWarning').style.display = 'none';
                    document.getElementById('minorFields').style.display = 'none';

                } catch (error) {
                    console.error("Ä°ÅŸlem sÄ±rasÄ±nda hata oluÅŸtu:", error);
                    alert("Bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin veya sayfayÄ± yenileyin.");
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalText;
                    document.body.classList.remove('loading');
                }
            });

            // --- PDF FONKSÄ°YONU ---
            async function downloadPDF(data) {
                if (!window.html2pdf) {
                    throw new Error('HTML2PDF kÃ¼tÃ¼phanesi yÃ¼klenmemiÅŸ');
                }
                
                // PDF iÃ§in optimize edilmiÅŸ HTML ÅŸablonu oluÅŸtur
                const generatePdfHtml = (d) => {
                    const minorHtml = d.Resit_Olmayan_Uye_Mi === 'on' ? `
                        <div class="section">
                            <h3>REÅÄ°T OLMAYAN ÃœYE BÄ°LGÄ°LERÄ°</h3>
                            <p><strong>AdÄ± SoyadÄ±:</strong> ${d.Resit_Olmayan_Adi_Soyadi || 'Belirtilmedi'}</p>
                            <p><strong>DoÄŸum Tarihi:</strong> ${d.Resit_Olmayan_Dogum_Tarihi || 'Belirtilmedi'}</p>
                        </div>
                    ` : '';

                    // SÃ¶zleÅŸme metnindeki yer tutucularÄ± gerÃ§ek verilerle deÄŸiÅŸtir
                    let filledContract = contractContent;
                    filledContract = filledContract.replace(/\[Bu alan formdan otomatik doldurulacaktÄ±r\]/g, function(match, offset, string) {
                        const beforeText = string.substring(0, offset);
                        if (beforeText.includes('AdÄ±-SoyadÄ± :') && !beforeText.includes('TCKN :')) return d.Ad_Soyad;
                        else if (beforeText.includes('Adres :') && !beforeText.includes('TCKN :')) return d.Adres;
                        else if (beforeText.includes('TCKN :')) return d.TC_Kimlik_No;
                        else if (beforeText.includes('Telefon :')) return d.Telefon;
                        else return d.Eposta;
                    });

                    return `
                    <!DOCTYPE html>
                    <html lang="tr">
                    <head>
                        <meta charset="UTF-8">
                        <style>
                            * { margin: 0; padding: 0; box-sizing: border-box; }
                            @page { 
                                margin: 15mm; 
                                size: A4; 
                                orphans: 2;
                                widows: 2;
                            }
                            body { 
                                font-family: 'Times New Roman', serif; 
                                font-size: 11px; 
                                line-height: 1.4; 
                                color: #000; 
                                background: white;
                                margin: 0;
                                padding: 0;
                            }
                            .pdf-container { 
                                width: 100%; 
                                margin: 0; 
                                padding: 0;
                                background: white;
                            }
                            h1 { 
                                font-size: 16px; 
                                text-align: center; 
                                color: #000; 
                                border-bottom: 1px solid #000; 
                                padding-bottom: 8px; 
                                margin-bottom: 15px;
                                page-break-after: avoid;
                            }
                            .section { 
                                margin-bottom: 15px; 
                                padding: 10px; 
                                border: 1px solid #ccc; 
                                page-break-inside: avoid;
                                background: white;
                            }
                            .section h3 { 
                                font-size: 12px; 
                                color: #000; 
                                margin: 0 0 8px 0;
                                page-break-after: avoid;
                                font-weight: bold;
                            }
                            .section p {
                                margin-bottom: 4px;
                                page-break-inside: avoid;
                            }
                            .contract { 
                                font-size: 9px;
                                line-height: 1.3;
                            }
                            .contract h4 {
                                font-size: 11px;
                                margin: 10px 0 5px 0;
                                page-break-after: avoid;
                            }
                            .contract p {
                                margin-bottom: 6px;
                                text-align: justify;
                            }
                            .signature-block { 
                                margin-top: 20px;
                                page-break-inside: avoid;
                            }
                            .signature-img {
                                width: 180px;
                                height: auto;
                                margin: 8px 0;
                                border-bottom: 1px solid #000;
                                display: block;
                            }
                            strong { font-weight: bold; }
                            .no-break { page-break-inside: avoid; }
                        </style>
                    </head>
                    <body>
                        <div class="pdf-container">
                            <h1>ğŸ¾ Atakum Tenis KulÃ¼bÃ¼ Ãœyelik SÃ¶zleÅŸmesi</h1>
                            
                            <div class="section no-break">
                                <h3>ÃœYE / VELÄ° BÄ°LGÄ°LERÄ°</h3>
                                <p><strong>Ad Soyad:</strong> ${d.Ad_Soyad}</p>
                                <p><strong>T.C. Kimlik No:</strong> ${d.TC_Kimlik_No}</p>
                                <p><strong>Telefon:</strong> ${d.Telefon}</p>
                                <p><strong>E-posta:</strong> ${d.Eposta}</p>
                                <p><strong>Adres:</strong> ${d.Adres}</p>
                                <p><strong>Ãœyelik SÃ¼resi:</strong> ${d.Uyelik_Suresi}</p>
                            </div>
                            
                            ${minorHtml}

                            <div class="section contract">
                                <h3>SÃ–ZLEÅME METNÄ°</h3>
                                ${filledContract}
                            </div>

                            <div class="section signature-block no-break">
                                <h3>ONAY VE Ä°MZA</h3>
                                <p>YukarÄ±daki sÃ¶zleÅŸmeyi okuduÄŸumu, anladÄ±ÄŸÄ±mÄ± ve tÃ¼m ÅŸartlarÄ±nÄ± kabul ettiÄŸimi beyan ederim.</p>
                                <p><strong>Ä°mza Tarihi:</strong> ${new Date(d.timestamp).toLocaleString('tr-TR')}</p>
                                <p><strong>Dijital Ä°mza:</strong></p>
                                <img src="${d.signature}" class="signature-img" alt="Dijital Ä°mza"/>
                                <p style="margin-top: 10px;"><strong>Ä°mza Sahibi:</strong> ${d.Ad_Soyad}</p>
                            </div>
                        </div>
                    </body>
                    </html>
                    `;
                };
                
                const pdfHtmlContent = generatePdfHtml(data);

                // Optimize edilmiÅŸ PDF ayarlarÄ±
                const opt = {
                    margin: [10, 10, 10, 10], // mm cinsinden kenar boÅŸluklarÄ±
                    filename: `${data.Ad_Soyad.replace(/\s+/g, '_')}_Tenis_Sozlesme_${new Date().toISOString().split('T')[0]}.pdf`,
                    image: { 
                        type: 'jpeg', 
                        quality: 0.95 
                    },
                    html2canvas: { 
                        scale: 1.5, 
                        useCORS: true, 
                        letterRendering: true,
                        allowTaint: true,
                        backgroundColor: '#ffffff',
                        logging: false,
                        width: 794,
                        height: 1123
                    },
                    jsPDF: { 
                        unit: 'mm', 
                        format: 'a4', 
                        orientation: 'portrait',
                        compress: true
                    },
                    pagebreak: { 
                        mode: ['avoid-all', 'css', 'legacy']
                    }
                };
                
                // PDF'i oluÅŸtur ve indir
                await html2pdf().set(opt).from(pdfHtmlContent).save();
            }

            console.log('Atakum Tenis KulÃ¼bÃ¼ formu baÅŸarÄ±yla yÃ¼klendi!');
        }
    </script>
</body>
</html>
